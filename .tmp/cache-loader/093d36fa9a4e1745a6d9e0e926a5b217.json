{"remainingRequest":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js??ref--13-2!C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\admin\\App.jsx","dependencies":[{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\admin\\App.jsx","mtime":1671546430000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\.babelrc","mtime":1671546158000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671546958000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js","mtime":1671546956000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class,\n    _temp,\n    _jsxFileName = 'C:\\\\Users\\\\cherv\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\deltaway.20\\\\src\\\\apps\\\\admin\\\\App.jsx';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nrequire('../../../client/vendor');\n\nrequire('../../css/main.css');\n\nvar _reactRedux = require('react-redux');\n\nvar _checkAuthentication2 = require('./services/checkAuthentication');\n\nvar _checkAuthentication3 = _interopRequireDefault(_checkAuthentication2);\n\nvar _getUnvisitedMoneyOutput2 = require('./services/getUnvisitedMoneyOutput');\n\nvar _getUnvisitedMoneyOutput3 = _interopRequireDefault(_getUnvisitedMoneyOutput2);\n\nvar _getUnvisitedMessageHistory2 = require('./services/getUnvisitedMessageHistory');\n\nvar _getUnvisitedMessageHistory3 = _interopRequireDefault(_getUnvisitedMessageHistory2);\n\nvar _reactRouterDom = require('react-router-dom');\n\nvar _reactRouter = require('react-router');\n\nvar _messageWebsocket = require('./services/messageWebsocket');\n\nvar _messageWebsocket2 = _interopRequireDefault(_messageWebsocket);\n\nvar _outputWebsocket = require('./services/outputWebsocket');\n\nvar _outputWebsocket2 = _interopRequireDefault(_outputWebsocket);\n\nvar _QiwiPage = require('./ui/pages/QiwiPage/QiwiPage.jsx');\n\nvar _QiwiPage2 = _interopRequireDefault(_QiwiPage);\n\nvar _ChatPage = require('./ui/pages/ChatPage/ChatPage.jsx');\n\nvar _ChatPage2 = _interopRequireDefault(_ChatPage);\n\nvar _Header = require('./ui/components/Header/Header.jsx');\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _Authentication = require('./ui/components/Authentication/Authentication.jsx');\n\nvar _Authentication2 = _interopRequireDefault(_Authentication);\n\nvar _Recovery = require('./ui/components/Recovery/Recovery.jsx');\n\nvar _Recovery2 = _interopRequireDefault(_Recovery);\n\nvar _CircularProgress = require('@material-ui/core/CircularProgress');\n\nvar _CircularProgress2 = _interopRequireDefault(_CircularProgress);\n\nvar _CredentialsPage = require('./ui/pages/CredentialsPage/CredentialsPage.jsx');\n\nvar _CredentialsPage2 = _interopRequireDefault(_CredentialsPage);\n\nvar _DatabasePage = require('./ui/pages/DatabasePage/DatabasePage.jsx');\n\nvar _DatabasePage2 = _interopRequireDefault(_DatabasePage);\n\nvar _UsersPage = require('./ui/pages/UsersPage/UsersPage.jsx');\n\nvar _UsersPage2 = _interopRequireDefault(_UsersPage);\n\nvar _PaymentsPage = require('./ui/pages/PaymentsPage/PaymentsPage.jsx');\n\nvar _PaymentsPage2 = _interopRequireDefault(_PaymentsPage);\n\nvar _TransactionsPage = require('./ui/pages/TransactionsPage/TransactionsPage.jsx');\n\nvar _TransactionsPage2 = _interopRequireDefault(_TransactionsPage);\n\nvar _nil = require('@tinkoff/utils/is/nil');\n\nvar _nil2 = _interopRequireDefault(_nil);\n\nvar _constants = require('./constants/constants');\n\nvar _App = require('./App.css');\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n    var application = _ref.application;\n\n    return {\n        authenticated: application.authenticated\n    };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n        checkAuthentication: function checkAuthentication(payload) {\n            return dispatch((0, _checkAuthentication3.default)(payload));\n        },\n        getUnvisitedMoneyOutput: function getUnvisitedMoneyOutput(payload) {\n            return dispatch((0, _getUnvisitedMoneyOutput3.default)(payload));\n        },\n        getUnvisitedMessageHistory: function getUnvisitedMessageHistory(payload) {\n            return dispatch((0, _getUnvisitedMessageHistory3.default)(payload));\n        }\n    };\n};\n\nvar App = (_temp = _class = function (_Component) {\n    (0, _inherits3.default)(App, _Component);\n\n    function App() {\n        var _ref2;\n\n        (0, _classCallCheck3.default)(this, App);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref2, [this].concat(args)));\n\n        _this.setMessageConnection = function (authenticated) {\n            if (authenticated) {\n                _messageWebsocket2.default.connect();\n                _outputWebsocket2.default.connect();\n            } else {\n                _messageWebsocket2.default.disconnect();\n                _outputWebsocket2.default.disconnect();\n            }\n        };\n\n        var pathname = _this.props.location.pathname;\n\n\n        _this.isRecovery = (0, _reactRouter.matchPath)(pathname, _constants.RECOVERY_URL);\n        return _this;\n    }\n\n    (0, _createClass3.default)(App, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.props.checkAuthentication();\n            this.props.getUnvisitedMoneyOutput();\n            this.props.getUnvisitedMessageHistory();\n\n            _outputWebsocket2.default.events.on('output', this.props.getUnvisitedMoneyOutput);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (!(0, _nil2.default)(nextProps.authenticated) && this.props.authenticated !== nextProps.authenticated) {\n                this.setMessageConnection(nextProps.authenticated);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _React$createElement5, _React$createElement6, _React$createElement7, _React$createElement8, _React$createElement9, _React$createElement10, _React$createElement11, _React$createElement12, _React$createElement13, _React$createElement14;\n\n            var authenticated = this.props.authenticated;\n\n\n            if (this.isRecovery) {\n                var _React$createElement;\n\n                return _react2.default.createElement(_Recovery2.default, (_React$createElement = {\n                    'data-qa-file': 'App',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 98\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement, '__self', this), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'App'), _React$createElement));\n            }\n\n            if ((0, _nil2.default)(authenticated)) {\n                var _React$createElement2, _React$createElement3;\n\n                return _react2.default.createElement(\n                    'div',\n                    (_React$createElement3 = { className: _App2.default.loader, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 102\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement3, '__self', this), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'App'), _React$createElement3),\n                    _react2.default.createElement(_CircularProgress2.default, (_React$createElement2 = {\n                        'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 103\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement2, '__self', this), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'App'), _React$createElement2))\n                );\n            }\n\n            if (!authenticated) {\n                var _React$createElement4;\n\n                return _react2.default.createElement(_Authentication2.default, (_React$createElement4 = {\n                    'data-qa-file': 'App',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 108\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement4, '__self', this), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'App'), _React$createElement4));\n            }\n\n            return _react2.default.createElement(\n                'main',\n                (_React$createElement14 = { className: _App2.default.stop, 'data-qa-file': 'App',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 111\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement14, '__self', this), (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'App'), _React$createElement14),\n                _react2.default.createElement(_Header2.default, (_React$createElement5 = {\n                    'data-qa-file': 'App',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 112\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement5, '__self', this), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'App'), _React$createElement5)),\n                _react2.default.createElement(\n                    _reactRouterDom.Switch,\n                    (_React$createElement13 = {\n                        'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 113\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement13, '__self', this), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'App'), _React$createElement13),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement6 = { exact: true, path: _constants.ADMIN_PANEL_URL, component: _UsersPage2.default, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 114\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement6, '__self', this), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'App'), _React$createElement6)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement7 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/qiwi', component: _QiwiPage2.default, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 115\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement7, '__self', this), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'App'), _React$createElement7)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement8 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/payments', component: _PaymentsPage2.default, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 116\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement8, '__self', this), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'App'), _React$createElement8)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement9 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/messages', component: _ChatPage2.default, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 117\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement9, '__self', this), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'App'), _React$createElement9)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement10 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/credentials', component: _CredentialsPage2.default, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 118\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement10, '__self', this), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'App'), _React$createElement10)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement11 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/db', component: _DatabasePage2.default, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 119\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement11, '__self', this), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'App'), _React$createElement11)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement12 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/outputs', component: _TransactionsPage2.default, 'data-qa-file': 'App',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 120\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement12, '__self', this), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'App'), _React$createElement12))\n                )\n            );\n        }\n    }]);\n    return App;\n}(_react.Component), _class.propTypes = {\n    checkAuthentication: _propTypes2.default.func.isRequired,\n    getUnvisitedMoneyOutput: _propTypes2.default.func.isRequired,\n    getUnvisitedMessageHistory: _propTypes2.default.func.isRequired,\n    authenticated: _propTypes2.default.bool,\n    location: _propTypes2.default.object\n}, _class.defaultProps = {\n    location: {}\n}, _temp);\nexports.default = (0, _reactRouterDom.withRouter)((0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(App));",{"version":3,"sources":["src\\apps\\admin\\App.jsx"],"names":["mapStateToProps","application","authenticated","mapDispatchToProps","dispatch","checkAuthentication","payload","getUnvisitedMoneyOutput","getUnvisitedMessageHistory","App","args","setMessageConnection","messageWebsocketController","connect","outputWebsocketController","disconnect","pathname","props","location","isRecovery","RECOVERY_URL","events","on","nextProps","styles","loader","stop","ADMIN_PANEL_URL","UsersPage","QiwiPage","PaymentsPage","ChatPage","CredentialsPage","DatabasePage","TransactionsPage","Component","propTypes","PropTypes","func","isRequired","bool","object","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;AACA;;AAEA;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;AAEA;;;;;;AAEA,IAAMA,kBAAkB,SAAlBA,eAAkB,OAAqB;AAAA,QAAlBC,WAAkB,QAAlBA,WAAkB;;AACzC,WAAO;AACHC,uBAAeD,YAAYC;AADxB,KAAP;AAGH,CAJD;;AAMA,IAAMC,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD;AAAA,WAAe;AACtCC,6BAAqB;AAAA,mBAAWD,SAAS,mCAAoBE,OAApB,CAAT,CAAX;AAAA,SADiB;AAEtCC,iCAAyB;AAAA,mBAAWH,SAAS,uCAAwBE,OAAxB,CAAT,CAAX;AAAA,SAFa;AAGtCE,oCAA4B;AAAA,mBAAWJ,SAAS,0CAA2BE,OAA3B,CAAT,CAAX;AAAA;AAHU,KAAf;AAAA,CAA3B;;IAMMG,G;;;AAaF,mBAAsB;AAAA;;AAAA;;AAAA,0CAANC,IAAM;AAANA,gBAAM;AAAA;;AAAA,yJACTA,IADS;;AAAA,cAsBtBC,oBAtBsB,GAsBC,UAACT,aAAD,EAAmB;AACtC,gBAAIA,aAAJ,EAAmB;AACfU,2CAA2BC,OAA3B;AACAC,0CAA0BD,OAA1B;AACH,aAHD,MAGO;AACHD,2CAA2BG,UAA3B;AACAD,0CAA0BC,UAA1B;AACH;AACJ,SA9BqB;;AAAA,YAGEC,QAHF,GAGiB,MAAKC,KAHtB,CAGVC,QAHU,CAGEF,QAHF;;;AAKlB,cAAKG,UAAL,GAAkB,4BAAUH,QAAV,EAAoBI,uBAApB,CAAlB;AALkB;AAMrB;;;;4CAEoB;AACjB,iBAAKH,KAAL,CAAWZ,mBAAX;AACA,iBAAKY,KAAL,CAAWV,uBAAX;AACA,iBAAKU,KAAL,CAAWT,0BAAX;;AAEAM,sCAA0BO,MAA1B,CAAiCC,EAAjC,CAAoC,QAApC,EAA8C,KAAKL,KAAL,CAAWV,uBAAzD;AACH;;;kDAE0BgB,S,EAAW;AAClC,gBAAI,CAAC,mBAAOA,UAAUrB,aAAjB,CAAD,IAAoC,KAAKe,KAAL,CAAWf,aAAX,KAA6BqB,UAAUrB,aAA/E,EAA8F;AAC1F,qBAAKS,oBAAL,CAA0BY,UAAUrB,aAApC;AACH;AACJ;;;iCAYS;AAAA;;AAAA,gBACEA,aADF,GACoB,KAAKe,KADzB,CACEf,aADF;;;AAGN,gBAAI,KAAKiB,UAAT,EAAqB;AAAA;;AACjB,uBAAO,8BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sQAAP;AACH;;AAED,gBAAI,mBAAOjB,aAAP,CAAJ,EAA2B;AAAA;;AACvB,uBAAO;AAAA;AAAA,+CAAK,WAAWsB,cAAOC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACH,kDAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADG,iBAAP;AAGH;;AAED,gBAAI,CAACvB,aAAL,EAAoB;AAAA;;AAChB,uBAAO,8BAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0QAAP;AACH;;AAED,mBAAO;AAAA;AAAA,4CAAM,WAAWsB,cAAOE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACH,8CAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0QADG;AAEH;AAAC,0CAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,kDAAC,qBAAD,6BAAO,WAAP,EAAa,MAAMC,0BAAnB,EAAoC,WAAWC,mBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8QADJ;AAEI,kDAAC,qBAAD,6BAAO,WAAP,EAAa,MAASD,0BAAT,UAAb,EAA8C,WAAWE,kBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8QAFJ;AAGI,kDAAC,qBAAD,6BAAO,WAAP,EAAa,MAASF,0BAAT,cAAb,EAAkD,WAAWG,sBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8QAHJ;AAII,kDAAC,qBAAD,6BAAO,WAAP,EAAa,MAASH,0BAAT,cAAb,EAAkD,WAAWI,kBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8QAJJ;AAKI,kDAAC,qBAAD,8BAAO,WAAP,EAAa,MAASJ,0BAAT,iBAAb,EAAqD,WAAWK,yBAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kRALJ;AAMI,kDAAC,qBAAD,8BAAO,WAAP,EAAa,MAASL,0BAAT,QAAb,EAA4C,WAAWM,sBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kRANJ;AAOI,kDAAC,qBAAD,8BAAO,WAAP,EAAa,MAASN,0BAAT,aAAb,EAAiD,WAAWO,0BAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPJ;AAFG,aAAP;AAYH;;;EA1EaC,gB,UACPC,S,GAAY;AACf/B,yBAAqBgC,oBAAUC,IAAV,CAAeC,UADrB;AAEfhC,6BAAyB8B,oBAAUC,IAAV,CAAeC,UAFzB;AAGf/B,gCAA4B6B,oBAAUC,IAAV,CAAeC,UAH5B;AAIfrC,mBAAemC,oBAAUG,IAJV;AAKftB,cAAUmB,oBAAUI;AALL,C,SAQZC,Y,GAAe;AAClBxB,cAAU;AADQ,C;kBAoEX,gCAAW,yBAAQlB,eAAR,EAAyBG,kBAAzB,EAA6CM,GAA7C,CAAX,C","file":"App.jsx","sourceRoot":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../../../client/vendor';\nimport '../../css/main.css';\n\nimport { connect } from 'react-redux';\n\nimport checkAuthentication from './services/checkAuthentication';\nimport getUnvisitedMoneyOutput from './services/getUnvisitedMoneyOutput';\nimport getUnvisitedMessageHistory from './services/getUnvisitedMessageHistory';\n\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport { matchPath } from 'react-router';\n\nimport messageWebsocketController from './services/messageWebsocket';\nimport outputWebsocketController from './services/outputWebsocket';\n\nimport QiwiPage from './ui/pages/QiwiPage/QiwiPage.jsx';\nimport ChatPage from './ui/pages/ChatPage/ChatPage.jsx';\nimport Header from './ui/components/Header/Header.jsx';\nimport Authentication from './ui/components/Authentication/Authentication.jsx';\nimport Recovery from './ui/components/Recovery/Recovery.jsx';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CredentialsPage from './ui/pages/CredentialsPage/CredentialsPage.jsx';\nimport DatabasePage from './ui/pages/DatabasePage/DatabasePage.jsx';\nimport UsersPage from './ui/pages/UsersPage/UsersPage.jsx';\nimport PaymentsPage from './ui/pages/PaymentsPage/PaymentsPage.jsx';\nimport TransactionsPage from './ui/pages/TransactionsPage/TransactionsPage.jsx';\n\nimport isNull from '@tinkoff/utils/is/nil';\n\nimport { ADMIN_PANEL_URL, RECOVERY_URL } from './constants/constants';\n\nimport styles from './App.css';\n\nconst mapStateToProps = ({ application }) => {\n    return {\n        authenticated: application.authenticated\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    checkAuthentication: payload => dispatch(checkAuthentication(payload)),\n    getUnvisitedMoneyOutput: payload => dispatch(getUnvisitedMoneyOutput(payload)),\n    getUnvisitedMessageHistory: payload => dispatch(getUnvisitedMessageHistory(payload))\n});\n\nclass App extends Component {\n    static propTypes = {\n        checkAuthentication: PropTypes.func.isRequired,\n        getUnvisitedMoneyOutput: PropTypes.func.isRequired,\n        getUnvisitedMessageHistory: PropTypes.func.isRequired,\n        authenticated: PropTypes.bool,\n        location: PropTypes.object\n    };\n\n    static defaultProps = {\n        location: {}\n    };\n\n    constructor (...args) {\n        super(...args);\n\n        const { location: { pathname } } = this.props;\n\n        this.isRecovery = matchPath(pathname, RECOVERY_URL);\n    }\n\n    componentDidMount () {\n        this.props.checkAuthentication();\n        this.props.getUnvisitedMoneyOutput();\n        this.props.getUnvisitedMessageHistory();\n\n        outputWebsocketController.events.on('output', this.props.getUnvisitedMoneyOutput);\n    }\n\n    componentWillReceiveProps (nextProps) {\n        if (!isNull(nextProps.authenticated) && this.props.authenticated !== nextProps.authenticated) {\n            this.setMessageConnection(nextProps.authenticated);\n        }\n    }\n\n    setMessageConnection = (authenticated) => {\n        if (authenticated) {\n            messageWebsocketController.connect();\n            outputWebsocketController.connect();\n        } else {\n            messageWebsocketController.disconnect();\n            outputWebsocketController.disconnect();\n        }\n    };\n\n    render () {\n        const { authenticated } = this.props;\n\n        if (this.isRecovery) {\n            return <Recovery />;\n        }\n\n        if (isNull(authenticated)) {\n            return <div className={styles.loader}>\n                <CircularProgress />\n            </div>;\n        }\n\n        if (!authenticated) {\n            return <Authentication />;\n        }\n\n        return <main className={styles.stop}>\n            <Header />\n            <Switch>\n                <Route exact path={ADMIN_PANEL_URL} component={UsersPage} />\n                <Route exact path={`${ADMIN_PANEL_URL}/qiwi`} component={QiwiPage} />\n                <Route exact path={`${ADMIN_PANEL_URL}/payments`} component={PaymentsPage} />\n                <Route exact path={`${ADMIN_PANEL_URL}/messages`} component={ChatPage} />\n                <Route exact path={`${ADMIN_PANEL_URL}/credentials`} component={CredentialsPage} />\n                <Route exact path={`${ADMIN_PANEL_URL}/db`} component={DatabasePage} />\n                <Route exact path={`${ADMIN_PANEL_URL}/outputs`} component={TransactionsPage} />\n            </Switch>\n        </main>;\n    }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n"]}]}