{"remainingRequest":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js??ref--13-2!C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\client\\ui\\components\\AssetsButton\\AssetsButton.jsx","dependencies":[{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\client\\ui\\components\\AssetsButton\\AssetsButton.jsx","mtime":1671546492000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\.babelrc","mtime":1671546158000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671546958000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js","mtime":1671546956000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class,\n    _class2,\n    _temp2,\n    _jsxFileName = 'C:\\\\Users\\\\cherv\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\deltaway.20\\\\src\\\\apps\\\\client\\\\ui\\\\components\\\\AssetsButton\\\\AssetsButton.jsx';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = require('react-redux');\n\nvar _setChartSymbolGroup2 = require('../../../actions/setChartSymbolGroup');\n\nvar _setChartSymbolGroup3 = _interopRequireDefault(_setChartSymbolGroup2);\n\nvar _setChartSymbol2 = require('../../../actions/setChartSymbol');\n\nvar _setChartSymbol3 = _interopRequireDefault(_setChartSymbol2);\n\nvar _assetPriceWebsocket = require('../../../services/client/assetPriceWebsocket');\n\nvar _assetPriceWebsocket2 = _interopRequireDefault(_assetPriceWebsocket);\n\nvar _propOr = require('@tinkoff/utils/object/propOr');\n\nvar _propOr2 = _interopRequireDefault(_propOr);\n\nvar _symbols = require('../../../../../../server/constants/symbols');\n\nvar _constants = require('../../../constants/constants');\n\nvar _AssetsButton = require('./AssetsButton.css');\n\nvar _AssetsButton2 = _interopRequireDefault(_AssetsButton);\n\nvar _BuyAndSellComponent = require('../BuyAndSellComponent/BuyAndSellComponent');\n\nvar _BuyAndSellComponent2 = _interopRequireDefault(_BuyAndSellComponent);\n\nvar _formatPriceToString = require('../../../utils/formatPriceToString');\n\nvar _formatPriceToString2 = _interopRequireDefault(_formatPriceToString);\n\nvar _outsideClick = require('../../hocs/outsideClick.jsx');\n\nvar _outsideClick2 = _interopRequireDefault(_outsideClick);\n\nvar _empty = require('@tinkoff/utils/is/empty');\n\nvar _empty2 = _interopRequireDefault(_empty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n    var application = _ref.application,\n        charts = _ref.charts,\n        data = _ref.data;\n\n    return {\n        langMap: application.langMap,\n        chartSymbolGroup: charts.chartSymbolGroup,\n        chartSymbol: charts.chartSymbol,\n        user: data.user\n    };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n        setChartSymbolGroup: function setChartSymbolGroup(payload) {\n            return dispatch((0, _setChartSymbolGroup3.default)(payload));\n        },\n        setChartSymbol: function setChartSymbol(payload) {\n            return dispatch((0, _setChartSymbol3.default)(payload));\n        }\n    };\n};\n\nvar AssetsButton = (0, _outsideClick2.default)(_class = (_temp2 = _class2 = function (_Component) {\n    (0, _inherits3.default)(AssetsButton, _Component);\n\n    function AssetsButton() {\n        var _ref2;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, AssetsButton);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = AssetsButton.__proto__ || Object.getPrototypeOf(AssetsButton)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {\n            isAssetsOpen: false,\n            isInnerAssetsButtonOpen: false,\n            textSearch: '',\n            filteredChartSymbolGroup: _this.props.chartSymbolGroup.symbols,\n            currentActiveMobileAsset: {}\n        }, _this.handlePriceChange = function (data) {\n            var filteredChartSymbolGroup = _this.state.filteredChartSymbolGroup;\n\n\n            if (filteredChartSymbolGroup.every(function (chartSymbol) {\n                return chartSymbol.name !== data.name;\n            })) {\n                return;\n            }\n\n            _this.forceUpdate();\n        }, _this.handlerMenu = function () {\n            if (!_this.state.isAssetsOpen) {\n                _this.props.events.emit(_constants.SCROLL_TOP_LOCKED_EVENT_NAME);\n            }\n            _this.filterList();\n\n            _this.setState({\n                isAssetsOpen: !_this.state.isAssetsOpen,\n                isInnerAssetsButtonOpen: false,\n                textSearch: ''\n            });\n        }, _this.handlerAssetsInnerButton = function () {\n            _this.setState({ isInnerAssetsButtonOpen: !_this.state.isInnerAssetsButtonOpen });\n        }, _this.handleSymbolGroupSelect = function (symbolGroup) {\n            return function () {\n                _this.props.setChartSymbolGroup(symbolGroup);\n            };\n        }, _this.handleSymbolSelect = function (symbol) {\n            return function () {\n                _this.props.setChartSymbol(symbol);\n\n                _this.setState({\n                    filteredChartSymbolGroup: _this.state.filteredChartSymbolGroup.map(function (chartSymbol) {\n                        return chartSymbol.name === symbol.name ? (0, _extends3.default)({}, chartSymbol, {\n                            isActive: true\n                        }) : (0, _extends3.default)({}, chartSymbol, {\n                            isActive: false\n                        });\n                    }),\n                    currentActiveMobileAsset: symbol\n                });\n            };\n        }, _this.handleSearch = function (event) {\n            var textSearch = event.target.value;\n            _this.setState({ textSearch: textSearch }, _this.filterList);\n        }, _this.filterList = function () {\n            var filteredChartSymbolGroup = _this.props.chartSymbolGroup.symbols.filter(function (chart) {\n                return chart.title.toLowerCase().indexOf(_this.state.textSearch.toLowerCase()) !== -1;\n            });\n            _this.setState({ filteredChartSymbolGroup: filteredChartSymbolGroup });\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(AssetsButton, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.props.events.on(_constants.SCROLL_TOP_LOCKED_EVENT_NAME, function () {\n                return _this2.setState({ isAssetsOpen: false });\n            });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var _this3 = this;\n\n            if (this.state.isAssetsOpen !== prevState.isAssetsOpen && this.state.isAssetsOpen) {\n                _assetPriceWebsocket2.default.events.on('data', this.handlePriceChange);\n            } else if (this.state.isAssetsOpen !== prevState.isAssetsOpen && !this.state.isAssetsOpen) {\n                _assetPriceWebsocket2.default.events.off('data', this.handlePriceChange);\n            }\n\n            if (this.state.isAssetsOpen && !this.props.outsideClickEnabled) {\n                this.props.turnOnClickOutside(this, function () {\n                    _this3.setState({\n                        isAssetsOpen: false,\n                        isInnerAssetsButtonOpen: false,\n                        textSearch: ''\n                    });\n                });\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var _this4 = this;\n\n            if (this.props.chartSymbolGroup !== nextProps.chartSymbolGroup) {\n                this.setState({\n                    filteredChartSymbolGroup: nextProps.chartSymbolGroup.symbols,\n                    textSearch: ''\n                }, function () {\n                    _this4.filterList();\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _React$createElement,\n                _React$createElement2,\n                _React$createElement3,\n                _React$createElement4,\n                _React$createElement5,\n                _React$createElement6,\n                _this5 = this,\n                _React$createElement10,\n                _React$createElement11,\n                _React$createElement12,\n                _React$createElement13,\n                _React$createElement14,\n                _React$createElement15,\n                _React$createElement27,\n                _React$createElement28,\n                _React$createElement29,\n                _React$createElement30,\n                _React$createElement31,\n                _React$createElement32,\n                _React$createElement33,\n                _React$createElement34,\n                _React$createElement35,\n                _React$createElement36;\n\n            var _props = this.props,\n                langMap = _props.langMap,\n                chartSymbolGroup = _props.chartSymbolGroup,\n                user = _props.user;\n            var _state = this.state,\n                isAssetsOpen = _state.isAssetsOpen,\n                isInnerAssetsButtonOpen = _state.isInnerAssetsButtonOpen,\n                filteredChartSymbolGroup = _state.filteredChartSymbolGroup,\n                textSearch = _state.textSearch;\n\n            var text = (0, _propOr2.default)('menu', {}, langMap);\n\n            return _react2.default.createElement(\n                'div',\n                (_React$createElement36 = { className: _AssetsButton2.default.root, 'data-qa-file': 'AssetsButton',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 154\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement36, '__self', this), (0, _defineProperty3.default)(_React$createElement36, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement36, 'data-qa-file', 'AssetsButton'), _React$createElement36),\n                _react2.default.createElement(\n                    'div',\n                    (_React$createElement31 = { className: (0, _classnames2.default)(_AssetsButton2.default.menuContent, (0, _defineProperty3.default)({}, _AssetsButton2.default.menuOpen, isAssetsOpen)), 'data-qa-file': 'AssetsButton',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 155\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement31, '__self', this), (0, _defineProperty3.default)(_React$createElement31, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement31, 'data-qa-file', 'AssetsButton'), _React$createElement31),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement = { className: _AssetsButton2.default.title, 'data-qa-file': 'AssetsButton',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 158\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement, '__self', this), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'AssetsButton'), _React$createElement),\n                        text.assetsTitle\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement30 = { className: _AssetsButton2.default.contentContainer, 'data-qa-file': 'AssetsButton',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 159\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement30, '__self', this), (0, _defineProperty3.default)(_React$createElement30, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement30, 'data-qa-file', 'AssetsButton'), _React$createElement30),\n                        _react2.default.createElement(\n                            'div',\n                            (_React$createElement11 = { className: _AssetsButton2.default.contentItem, onClick: this.handlerAssetsInnerButton, 'data-qa-file': 'AssetsButton',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 160\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement11, '__self', this), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'AssetsButton'), _React$createElement11),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement6 = { className: (0, _classnames2.default)(_AssetsButton2.default.contentItemText, (0, _defineProperty3.default)({}, _AssetsButton2.default.contentItemTextActive, isInnerAssetsButtonOpen)), 'data-qa-file': 'AssetsButton',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 161\n                                    },\n                                    __self: this\n                                }, (0, _defineProperty3.default)(_React$createElement6, '__self', this), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'AssetsButton'), _React$createElement6),\n                                _react2.default.createElement(\n                                    'div',\n                                    (_React$createElement3 = { className: _AssetsButton2.default.iconContainer, 'data-qa-file': 'AssetsButton',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 164\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement3, '__self', this), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'AssetsButton'), _React$createElement3),\n                                    _react2.default.createElement('img', (_React$createElement2 = { src: chartSymbolGroup.img, 'data-qa-file': 'AssetsButton',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 165\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement2, '__self', this), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'AssetsButton'), _React$createElement2))\n                                ),\n                                chartSymbolGroup.title,\n                                _react2.default.createElement(\n                                    'div',\n                                    (_React$createElement5 = { className: (0, _classnames2.default)(_AssetsButton2.default.iconArrow, (0, _defineProperty3.default)({}, _AssetsButton2.default.iconArrowActive, isInnerAssetsButtonOpen)), 'data-qa-file': 'AssetsButton',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 168\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement5, '__self', this), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'AssetsButton'), _React$createElement5),\n                                    _react2.default.createElement('img', (_React$createElement4 = { src: '/src/apps/client/ui/components/AssetsButton/images/arrowDown.svg', alt: '', 'data-qa-file': 'AssetsButton',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 171\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement4, '__self', this), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'AssetsButton'), _React$createElement4))\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement10 = { className: (0, _classnames2.default)(_AssetsButton2.default.innerAssetsContainer, (0, _defineProperty3.default)({}, _AssetsButton2.default.innerAssetsButtonVisible, isInnerAssetsButtonOpen)), 'data-qa-file': 'AssetsButton',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 174\n                                    },\n                                    __self: this\n                                }, (0, _defineProperty3.default)(_React$createElement10, '__self', this), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'AssetsButton'), _React$createElement10),\n                                _symbols.CHART_SYMBOL_GROUPS.filter(function (symbolGroup) {\n                                    return symbolGroup.id !== chartSymbolGroup.id;\n                                }).map(function (item, i) {\n                                    var _React$createElement7, _React$createElement8, _React$createElement9;\n\n                                    return _react2.default.createElement(\n                                        'div',\n                                        (_React$createElement9 = { key: i, className: _AssetsButton2.default.assetsItem, onClick: _this5.handleSymbolGroupSelect(item), 'data-qa-file': 'AssetsButton',\n                                            __source: {\n                                                fileName: _jsxFileName,\n                                                lineNumber: 179\n                                            },\n                                            __self: _this5\n                                        }, (0, _defineProperty3.default)(_React$createElement9, '__self', _this5), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'AssetsButton'), _React$createElement9),\n                                        _react2.default.createElement(\n                                            'div',\n                                            (_React$createElement8 = { className: _AssetsButton2.default.iconContainer, 'data-qa-file': 'AssetsButton',\n                                                __source: {\n                                                    fileName: _jsxFileName,\n                                                    lineNumber: 180\n                                                },\n                                                __self: _this5\n                                            }, (0, _defineProperty3.default)(_React$createElement8, '__self', _this5), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'AssetsButton'), _React$createElement8),\n                                            _react2.default.createElement('img', (_React$createElement7 = { src: item.img, 'data-qa-file': 'AssetsButton',\n                                                __source: {\n                                                    fileName: _jsxFileName,\n                                                    lineNumber: 181\n                                                },\n                                                __self: _this5\n                                            }, (0, _defineProperty3.default)(_React$createElement7, '__self', _this5), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'AssetsButton'), _React$createElement7))\n                                        ),\n                                        item.title\n                                    );\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            (_React$createElement29 = { className: _AssetsButton2.default.contentItem, 'data-qa-file': 'AssetsButton',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 187\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement29, '__self', this), (0, _defineProperty3.default)(_React$createElement29, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement29, 'data-qa-file', 'AssetsButton'), _React$createElement29),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement28 = { className: _AssetsButton2.default.contentItemText, 'data-qa-file': 'AssetsButton',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 188\n                                    },\n                                    __self: this\n                                }, (0, _defineProperty3.default)(_React$createElement28, '__self', this), (0, _defineProperty3.default)(_React$createElement28, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement28, 'data-qa-file', 'AssetsButton'), _React$createElement28),\n                                _react2.default.createElement('input', (_React$createElement12 = {\n                                    value: textSearch,\n                                    onChange: this.handleSearch,\n                                    placeholder: text.assetsSearch,\n                                    className: _AssetsButton2.default.searchField,\n                                    type: 'text',\n                                    'data-qa-file': 'AssetsButton',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 189\n                                    },\n                                    __self: this\n                                }, (0, _defineProperty3.default)(_React$createElement12, '__self', this), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'AssetsButton'), _React$createElement12)),\n                                _react2.default.createElement(\n                                    'div',\n                                    (_React$createElement15 = { className: (0, _classnames2.default)(_AssetsButton2.default.iconArrow), 'data-qa-file': 'AssetsButton',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 196\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement15, '__self', this), (0, _defineProperty3.default)(_React$createElement15, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement15, 'data-qa-file', 'AssetsButton'), _React$createElement15),\n                                    _react2.default.createElement(\n                                        'svg',\n                                        (_React$createElement14 = { width: '12', height: '12', viewBox: '0 0 12 12', fill: 'none', xmlns: 'http://www.w3.org/2000/svg', 'data-qa-file': 'AssetsButton',\n                                            __source: {\n                                                fileName: _jsxFileName,\n                                                lineNumber: 197\n                                            },\n                                            __self: this\n                                        }, (0, _defineProperty3.default)(_React$createElement14, '__self', this), (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'AssetsButton'), _React$createElement14),\n                                        _react2.default.createElement('path', (_React$createElement13 = { d: 'M5.13149 10.263C6.27003 10.2628 7.37576 9.88161 8.27261 9.18024L11.0924 12L11.9994 11.093L9.1796 8.27325C9.88133 7.37631 10.2627 6.27033 10.263 5.13149C10.263 2.30212 7.96087 0 5.13149 0C2.30212 0 0 2.30212 0 5.13149C0 7.96087 2.30212 10.263 5.13149 10.263ZM5.13149 1.28287C7.25401 1.28287 8.98012 3.00898 8.98012 5.13149C8.98012 7.25401 7.25401 8.98012 5.13149 8.98012C3.00898 8.98012 1.28287 7.25401 1.28287 5.13149C1.28287 3.00898 3.00898 1.28287 5.13149 1.28287Z', fill: '#F8F8F8', fillOpacity: '0.5', 'data-qa-file': 'AssetsButton',\n                                            __source: {\n                                                fileName: _jsxFileName,\n                                                lineNumber: 199\n                                            },\n                                            __self: this\n                                        }, (0, _defineProperty3.default)(_React$createElement13, '__self', this), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'AssetsButton'), _React$createElement13))\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    (_React$createElement27 = { className: _AssetsButton2.default.assetsContainer, 'data-qa-file': 'AssetsButton',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 202\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement27, '__self', this), (0, _defineProperty3.default)(_React$createElement27, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement27, 'data-qa-file', 'AssetsButton'), _React$createElement27),\n                                    filteredChartSymbolGroup.map(function (asset, i) {\n                                        var _React$createElement16, _React$createElement17, _React$createElement18, _React$createElement19, _React$createElement20, _React$createElement21, _classNames7, _React$createElement22, _React$createElement23, _React$createElement24, _React$createElement25, _React$createElement26;\n\n                                        return _react2.default.createElement(\n                                            'div',\n                                            (_React$createElement26 = { key: i, className: (0, _classnames2.default)(_AssetsButton2.default.assetItemContainer, (0, _defineProperty3.default)({}, _AssetsButton2.default.assetItemContainerActive, asset.isActive), (0, _defineProperty3.default)({}, _AssetsButton2.default.contentCenter, (0, _empty2.default)(user))), onClick: _this5.handleSymbolSelect(asset), 'data-qa-file': 'AssetsButton',\n                                                __source: {\n                                                    fileName: _jsxFileName,\n                                                    lineNumber: 204\n                                                },\n                                                __self: _this5\n                                            }, (0, _defineProperty3.default)(_React$createElement26, '__self', _this5), (0, _defineProperty3.default)(_React$createElement26, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement26, 'data-qa-file', 'AssetsButton'), _React$createElement26),\n                                            _react2.default.createElement(\n                                                'div',\n                                                (_React$createElement23 = { className: _AssetsButton2.default.assetItemDataContainer, 'data-qa-file': 'AssetsButton',\n                                                    __source: {\n                                                        fileName: _jsxFileName,\n                                                        lineNumber: 208\n                                                    },\n                                                    __self: _this5\n                                                }, (0, _defineProperty3.default)(_React$createElement23, '__self', _this5), (0, _defineProperty3.default)(_React$createElement23, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement23, 'data-qa-file', 'AssetsButton'), _React$createElement23),\n                                                asset.imgAlone ? _react2.default.createElement(\n                                                    'div',\n                                                    (_React$createElement17 = { className: _AssetsButton2.default.assetItemPair, 'data-qa-file': 'AssetsButton',\n                                                        __source: {\n                                                            fileName: _jsxFileName,\n                                                            lineNumber: 211\n                                                        },\n                                                        __self: _this5\n                                                    }, (0, _defineProperty3.default)(_React$createElement17, '__self', _this5), (0, _defineProperty3.default)(_React$createElement17, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement17, 'data-qa-file', 'AssetsButton'), _React$createElement17),\n                                                    _react2.default.createElement('img', (_React$createElement16 = { className: _AssetsButton2.default.imgAlone, src: asset.imgAlone, alt: 'asset', 'data-qa-file': 'AssetsButton',\n                                                        __source: {\n                                                            fileName: _jsxFileName,\n                                                            lineNumber: 212\n                                                        },\n                                                        __self: _this5\n                                                    }, (0, _defineProperty3.default)(_React$createElement16, '__self', _this5), (0, _defineProperty3.default)(_React$createElement16, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement16, 'data-qa-file', 'AssetsButton'), _React$createElement16))\n                                                ) : _react2.default.createElement(\n                                                    'div',\n                                                    (_React$createElement20 = { className: _AssetsButton2.default.assetItemPair, 'data-qa-file': 'AssetsButton',\n                                                        __source: {\n                                                            fileName: _jsxFileName,\n                                                            lineNumber: 214\n                                                        },\n                                                        __self: _this5\n                                                    }, (0, _defineProperty3.default)(_React$createElement20, '__self', _this5), (0, _defineProperty3.default)(_React$createElement20, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement20, 'data-qa-file', 'AssetsButton'), _React$createElement20),\n                                                    _react2.default.createElement('img', (_React$createElement18 = { className: _AssetsButton2.default.imgUpper, src: asset.imgTop, alt: 'assets', 'data-qa-file': 'AssetsButton',\n                                                        __source: {\n                                                            fileName: _jsxFileName,\n                                                            lineNumber: 215\n                                                        },\n                                                        __self: _this5\n                                                    }, (0, _defineProperty3.default)(_React$createElement18, '__self', _this5), (0, _defineProperty3.default)(_React$createElement18, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement18, 'data-qa-file', 'AssetsButton'), _React$createElement18)),\n                                                    _react2.default.createElement('img', (_React$createElement19 = { className: _AssetsButton2.default.imgLower, src: asset.imgBottom, alt: 'assets', 'data-qa-file': 'AssetsButton',\n                                                        __source: {\n                                                            fileName: _jsxFileName,\n                                                            lineNumber: 216\n                                                        },\n                                                        __self: _this5\n                                                    }, (0, _defineProperty3.default)(_React$createElement19, '__self', _this5), (0, _defineProperty3.default)(_React$createElement19, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement19, 'data-qa-file', 'AssetsButton'), _React$createElement19))\n                                                ),\n                                                _react2.default.createElement(\n                                                    'div',\n                                                    (_React$createElement21 = { className: _AssetsButton2.default.assetsName, 'data-qa-file': 'AssetsButton',\n                                                        __source: {\n                                                            fileName: _jsxFileName,\n                                                            lineNumber: 219\n                                                        },\n                                                        __self: _this5\n                                                    }, (0, _defineProperty3.default)(_React$createElement21, '__self', _this5), (0, _defineProperty3.default)(_React$createElement21, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement21, 'data-qa-file', 'AssetsButton'), _React$createElement21),\n                                                    asset.title\n                                                ),\n                                                _react2.default.createElement(\n                                                    'div',\n                                                    (_React$createElement22 = { className: (0, _classnames2.default)(_AssetsButton2.default.assetsPrice, (_classNames7 = {}, (0, _defineProperty3.default)(_classNames7, _AssetsButton2.default.posPrice, _assetPriceWebsocket2.default.changes[asset.name] === 'up'), (0, _defineProperty3.default)(_classNames7, _AssetsButton2.default.negPrice, _assetPriceWebsocket2.default.changes[asset.name] === 'down'), _classNames7)), 'data-qa-file': 'AssetsButton',\n                                                        __source: {\n                                                            fileName: _jsxFileName,\n                                                            lineNumber: 220\n                                                        },\n                                                        __self: _this5\n                                                    }, (0, _defineProperty3.default)(_React$createElement22, '__self', _this5), (0, _defineProperty3.default)(_React$createElement22, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement22, 'data-qa-file', 'AssetsButton'), _React$createElement22),\n                                                    (0, _formatPriceToString2.default)(_assetPriceWebsocket2.default.prices[asset.name])\n                                                )\n                                            ),\n                                            asset.isActive && !(0, _empty2.default)(user) && _react2.default.createElement(\n                                                'div',\n                                                (_React$createElement25 = { className: _AssetsButton2.default.mobileBuyAndSell, 'data-qa-file': 'AssetsButton',\n                                                    __source: {\n                                                        fileName: _jsxFileName,\n                                                        lineNumber: 226\n                                                    },\n                                                    __self: _this5\n                                                }, (0, _defineProperty3.default)(_React$createElement25, '__self', _this5), (0, _defineProperty3.default)(_React$createElement25, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement25, 'data-qa-file', 'AssetsButton'), _React$createElement25),\n                                                _react2.default.createElement(_BuyAndSellComponent2.default, (_React$createElement24 = { activeAsset: asset, 'data-qa-file': 'AssetsButton',\n                                                    __source: {\n                                                        fileName: _jsxFileName,\n                                                        lineNumber: 226\n                                                    },\n                                                    __self: _this5\n                                                }, (0, _defineProperty3.default)(_React$createElement24, '__self', _this5), (0, _defineProperty3.default)(_React$createElement24, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement24, 'data-qa-file', 'AssetsButton'), _React$createElement24))\n                                            )\n                                        );\n                                    })\n                                )\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    (_React$createElement35 = { className: (0, _classnames2.default)(_AssetsButton2.default.buttonContainer, (0, _defineProperty3.default)({}, _AssetsButton2.default.buttonActive, isAssetsOpen)), onClick: this.handlerMenu, 'data-qa-file': 'AssetsButton',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 233\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement35, '__self', this), (0, _defineProperty3.default)(_React$createElement35, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement35, 'data-qa-file', 'AssetsButton'), _React$createElement35),\n                    _react2.default.createElement(\n                        'svg',\n                        (_React$createElement33 = { className: (0, _classnames2.default)(_AssetsButton2.default.buttonImg, (0, _defineProperty3.default)({}, _AssetsButton2.default.buttonImgActive, isAssetsOpen)), width: '16', height: '28', viewBox: '0 0 16 28', fill: 'none', xmlns: 'http://www.w3.org/2000/svg', 'data-qa-file': 'AssetsButton',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 236\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement33, '__self', this), (0, _defineProperty3.default)(_React$createElement33, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement33, 'data-qa-file', 'AssetsButton'), _React$createElement33),\n                        _react2.default.createElement('path', (_React$createElement32 = { d: 'M8.69998 12.35C5.29498 11.465 4.19998 10.55 4.19998 9.125C4.19998 7.49 5.71498 6.35 8.24998 6.35C10.92 6.35 11.91 7.625 12 9.5H15.315C15.21 6.92 13.635 4.55 10.5 3.785V0.5H5.99998V3.74C3.08998 4.37 0.74998 6.26 0.74998 9.155C0.74998 12.62 3.61498 14.345 7.79998 15.35C11.55 16.25 12.3 17.57 12.3 18.965C12.3 20 11.565 21.65 8.24998 21.65C5.15998 21.65 3.94498 20.27 3.77998 18.5H0.47998C0.65998 21.785 3.11998 23.63 5.99998 24.245V27.5H10.5V24.275C13.425 23.72 15.75 22.025 15.75 18.95C15.75 14.69 12.105 13.235 8.69998 12.35Z', fill: '#A6B1DC', 'data-qa-file': 'AssetsButton',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 240\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement32, '__self', this), (0, _defineProperty3.default)(_React$createElement32, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement32, 'data-qa-file', 'AssetsButton'), _React$createElement32))\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement34 = { className: (0, _classnames2.default)(_AssetsButton2.default.button, (0, _defineProperty3.default)({}, _AssetsButton2.default.buttonTitleActive, isAssetsOpen)), 'data-qa-file': 'AssetsButton',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 242\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement34, '__self', this), (0, _defineProperty3.default)(_React$createElement34, 'data-qa-file', 'AssetsButton'), (0, _defineProperty3.default)(_React$createElement34, 'data-qa-file', 'AssetsButton'), _React$createElement34),\n                        text.assets\n                    )\n                )\n            );\n        }\n    }]);\n    return AssetsButton;\n}(_react.Component), _class2.propTypes = {\n    langMap: _propTypes2.default.object.isRequired,\n    chartSymbolGroup: _propTypes2.default.object.isRequired,\n    setChartSymbolGroup: _propTypes2.default.func.isRequired,\n    setChartSymbol: _propTypes2.default.func.isRequired,\n    events: _propTypes2.default.object.isRequired,\n    turnOnClickOutside: _propTypes2.default.func.isRequired,\n    outsideClickEnabled: _propTypes2.default.bool,\n    user: _propTypes2.default.object\n}, _temp2)) || _class;\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(AssetsButton);",{"version":3,"sources":["src\\apps\\client\\ui\\components\\AssetsButton\\AssetsButton.jsx"],"names":["mapStateToProps","application","charts","data","langMap","chartSymbolGroup","chartSymbol","user","mapDispatchToProps","dispatch","setChartSymbolGroup","payload","setChartSymbol","AssetsButton","outsideClick","state","isAssetsOpen","isInnerAssetsButtonOpen","textSearch","filteredChartSymbolGroup","props","symbols","currentActiveMobileAsset","handlePriceChange","every","name","forceUpdate","handlerMenu","events","emit","SCROLL_TOP_LOCKED_EVENT_NAME","filterList","setState","handlerAssetsInnerButton","handleSymbolGroupSelect","symbolGroup","handleSymbolSelect","symbol","map","isActive","handleSearch","event","target","value","filter","chart","title","toLowerCase","indexOf","on","prevProps","prevState","assetPriceWebsocketController","off","outsideClickEnabled","turnOnClickOutside","nextProps","text","styles","root","menuContent","menuOpen","assetsTitle","contentContainer","contentItem","contentItemText","contentItemTextActive","iconContainer","img","iconArrow","iconArrowActive","innerAssetsContainer","innerAssetsButtonVisible","CHART_SYMBOL_GROUPS","id","item","i","assetsItem","assetsSearch","searchField","assetsContainer","asset","assetItemContainer","assetItemContainerActive","contentCenter","assetItemDataContainer","imgAlone","assetItemPair","imgUpper","imgTop","imgLower","imgBottom","assetsName","assetsPrice","posPrice","changes","negPrice","prices","mobileBuyAndSell","buttonContainer","buttonActive","buttonImg","buttonImgActive","button","buttonTitleActive","assets","Component","propTypes","PropTypes","object","isRequired","func","bool"],"mappings":"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","file":"AssetsButton.jsx","sourceRoot":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\n\nimport setChartSymbolGroup from '../../../actions/setChartSymbolGroup';\nimport setChartSymbol from '../../../actions/setChartSymbol';\nimport assetPriceWebsocketController from '../../../services/client/assetPriceWebsocket';\n\nimport propOr from '@tinkoff/utils/object/propOr';\n\nimport { CHART_SYMBOL_GROUPS } from '../../../../../../server/constants/symbols';\nimport { SCROLL_TOP_LOCKED_EVENT_NAME } from '../../../constants/constants';\n\nimport styles from './AssetsButton.css';\nimport BuyAndSellComponent from '../BuyAndSellComponent/BuyAndSellComponent';\nimport formatPriceToString from '../../../utils/formatPriceToString';\nimport outsideClick from '../../hocs/outsideClick.jsx';\n\nimport isEmpty from '@tinkoff/utils/is/empty';\n\nconst mapStateToProps = ({ application, charts, data }) => {\n    return {\n        langMap: application.langMap,\n        chartSymbolGroup: charts.chartSymbolGroup,\n        chartSymbol: charts.chartSymbol,\n        user: data.user\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    setChartSymbolGroup: payload => dispatch(setChartSymbolGroup(payload)),\n    setChartSymbol: payload => dispatch(setChartSymbol(payload))\n});\n\n@outsideClick\nclass AssetsButton extends Component {\n    static propTypes = {\n        langMap: PropTypes.object.isRequired,\n        chartSymbolGroup: PropTypes.object.isRequired,\n        setChartSymbolGroup: PropTypes.func.isRequired,\n        setChartSymbol: PropTypes.func.isRequired,\n        events: PropTypes.object.isRequired,\n        turnOnClickOutside: PropTypes.func.isRequired,\n        outsideClickEnabled: PropTypes.bool,\n        user: PropTypes.object\n    };\n\n    state = {\n        isAssetsOpen: false,\n        isInnerAssetsButtonOpen: false,\n        textSearch: '',\n        filteredChartSymbolGroup: this.props.chartSymbolGroup.symbols,\n        currentActiveMobileAsset: {}\n    };\n\n    componentDidMount () {\n        this.props.events.on(SCROLL_TOP_LOCKED_EVENT_NAME, () => this.setState({ isAssetsOpen: false }));\n    }\n\n    componentDidUpdate (prevProps, prevState) {\n        if (this.state.isAssetsOpen !== prevState.isAssetsOpen && this.state.isAssetsOpen) {\n            assetPriceWebsocketController.events.on('data', this.handlePriceChange);\n        } else if (this.state.isAssetsOpen !== prevState.isAssetsOpen && !this.state.isAssetsOpen) {\n            assetPriceWebsocketController.events.off('data', this.handlePriceChange);\n        }\n\n        if (this.state.isAssetsOpen && !this.props.outsideClickEnabled) {\n            this.props.turnOnClickOutside(this, () => {\n                this.setState({\n                    isAssetsOpen: false,\n                    isInnerAssetsButtonOpen: false,\n                    textSearch: ''\n                });\n            });\n        }\n    }\n\n    handlePriceChange = data => {\n        const { filteredChartSymbolGroup } = this.state;\n\n        if (filteredChartSymbolGroup.every(chartSymbol => chartSymbol.name !== data.name)) {\n            return;\n        }\n\n        this.forceUpdate();\n    };\n\n    componentWillReceiveProps (nextProps) {\n        if (this.props.chartSymbolGroup !== nextProps.chartSymbolGroup) {\n            this.setState({\n                filteredChartSymbolGroup: nextProps.chartSymbolGroup.symbols,\n                textSearch: ''\n            }, () => {\n                this.filterList();\n            });\n        }\n    }\n\n    handlerMenu = () => {\n        if (!this.state.isAssetsOpen) {\n            this.props.events.emit(SCROLL_TOP_LOCKED_EVENT_NAME);\n        }\n        this.filterList();\n\n        this.setState({\n            isAssetsOpen: !this.state.isAssetsOpen,\n            isInnerAssetsButtonOpen: false,\n            textSearch: ''\n        });\n    };\n\n    handlerAssetsInnerButton = () => {\n        this.setState({ isInnerAssetsButtonOpen: !this.state.isInnerAssetsButtonOpen });\n    };\n\n    handleSymbolGroupSelect = symbolGroup => () => {\n        this.props.setChartSymbolGroup(symbolGroup);\n    };\n\n    handleSymbolSelect = symbol => () => {\n        this.props.setChartSymbol(symbol);\n\n        this.setState({\n            filteredChartSymbolGroup: this.state.filteredChartSymbolGroup.map(chartSymbol => chartSymbol.name === symbol.name\n                ? ({\n                    ...chartSymbol,\n                    isActive: true\n                })\n                : ({\n                    ...chartSymbol,\n                    isActive: false\n                })),\n            currentActiveMobileAsset: symbol\n        });\n    };\n\n    handleSearch = event => {\n        const textSearch = event.target.value;\n        this.setState({ textSearch }, this.filterList);\n    };\n\n    filterList = () => {\n        const filteredChartSymbolGroup =\n            this.props.chartSymbolGroup.symbols.filter(chart => chart.title.toLowerCase().indexOf(this.state.textSearch.toLowerCase()) !== -1);\n        this.setState({ filteredChartSymbolGroup });\n    };\n\n    render () {\n        const { langMap, chartSymbolGroup, user } = this.props;\n        const { isAssetsOpen, isInnerAssetsButtonOpen, filteredChartSymbolGroup, textSearch } = this.state;\n        const text = propOr('menu', {}, langMap);\n\n        return <div className={styles.root}>\n            <div className={classNames(styles.menuContent, {\n                [styles.menuOpen]: isAssetsOpen\n            })}>\n                <div className={styles.title}>{text.assetsTitle}</div>\n                <div className={styles.contentContainer}>\n                    <div className={styles.contentItem} onClick={this.handlerAssetsInnerButton}>\n                        <div className={classNames(styles.contentItemText, {\n                            [styles.contentItemTextActive]: isInnerAssetsButtonOpen\n                        })}>\n                            <div className={styles.iconContainer}>\n                                <img src={chartSymbolGroup.img} />\n                            </div>\n                            {chartSymbolGroup.title}\n                            <div className={classNames(styles.iconArrow, {\n                                [styles.iconArrowActive]: isInnerAssetsButtonOpen\n                            })}>\n                                <img src=\"/src/apps/client/ui/components/AssetsButton/images/arrowDown.svg\" alt=\"\" />\n                            </div>\n                        </div>\n                        <div className={classNames(styles.innerAssetsContainer, {\n                            [styles.innerAssetsButtonVisible]: isInnerAssetsButtonOpen\n                        })}>\n                            {CHART_SYMBOL_GROUPS\n                                .filter(symbolGroup => symbolGroup.id !== chartSymbolGroup.id)\n                                .map((item, i) => <div key={i} className={styles.assetsItem} onClick={this.handleSymbolGroupSelect(item)}>\n                                    <div className={styles.iconContainer}>\n                                        <img src={item.img} />\n                                    </div>\n                                    {item.title}\n                                </div>)}\n                        </div>\n                    </div>\n                    <div className={styles.contentItem}>\n                        <div className={styles.contentItemText}>\n                            <input\n                                value={textSearch}\n                                onChange={this.handleSearch}\n                                placeholder={text.assetsSearch}\n                                className={styles.searchField}\n                                type=\"text\"\n                            />\n                            <div className={classNames(styles.iconArrow)}>\n                                <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    {/* eslint-disable-next-line max-len */}\n                                    <path d=\"M5.13149 10.263C6.27003 10.2628 7.37576 9.88161 8.27261 9.18024L11.0924 12L11.9994 11.093L9.1796 8.27325C9.88133 7.37631 10.2627 6.27033 10.263 5.13149C10.263 2.30212 7.96087 0 5.13149 0C2.30212 0 0 2.30212 0 5.13149C0 7.96087 2.30212 10.263 5.13149 10.263ZM5.13149 1.28287C7.25401 1.28287 8.98012 3.00898 8.98012 5.13149C8.98012 7.25401 7.25401 8.98012 5.13149 8.98012C3.00898 8.98012 1.28287 7.25401 1.28287 5.13149C1.28287 3.00898 3.00898 1.28287 5.13149 1.28287Z\" fill=\"#F8F8F8\" fillOpacity=\"0.5\" />\n                                </svg>\n                            </div>\n                            <div className={styles.assetsContainer}>\n                                {filteredChartSymbolGroup.map((asset, i) =>\n                                    <div key={i} className={classNames(styles.assetItemContainer,\n                                        { [styles.assetItemContainerActive]: asset.isActive },\n                                        { [styles.contentCenter]: isEmpty(user) }\n                                    )} onClick={this.handleSymbolSelect(asset)}>\n                                        <div className={styles.assetItemDataContainer}>\n                                            {\n                                                asset.imgAlone\n                                                    ? <div className={styles.assetItemPair}>\n                                                        <img className={styles.imgAlone} src={asset.imgAlone} alt=\"asset\"/>\n                                                    </div>\n                                                    : <div className={styles.assetItemPair}>\n                                                        <img className={styles.imgUpper} src={asset.imgTop} alt=\"assets\"/>\n                                                        <img className={styles.imgLower} src={asset.imgBottom} alt=\"assets\"/>\n                                                    </div>\n                                            }\n                                            <div className={styles.assetsName}>{asset.title}</div>\n                                            <div className={classNames(styles.assetsPrice, {\n                                                [styles.posPrice]: assetPriceWebsocketController.changes[asset.name] === 'up',\n                                                [styles.negPrice]: assetPriceWebsocketController.changes[asset.name] === 'down'\n                                            })}>{formatPriceToString(assetPriceWebsocketController.prices[asset.name])}</div>\n                                        </div>\n                                        {(asset.isActive && !isEmpty(user)) &&\n                                        <div className={styles.mobileBuyAndSell}><BuyAndSellComponent activeAsset={asset} /></div>}\n                                    </div>)}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={classNames(styles.buttonContainer, {\n                [styles.buttonActive]: isAssetsOpen\n            })} onClick={this.handlerMenu}>\n                <svg className={classNames(styles.buttonImg, {\n                    [styles.buttonImgActive]: isAssetsOpen\n                })} width=\"16\" height=\"28\" viewBox=\"0 0 16 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    {/* eslint-disable-next-line max-len */}\n                    <path d=\"M8.69998 12.35C5.29498 11.465 4.19998 10.55 4.19998 9.125C4.19998 7.49 5.71498 6.35 8.24998 6.35C10.92 6.35 11.91 7.625 12 9.5H15.315C15.21 6.92 13.635 4.55 10.5 3.785V0.5H5.99998V3.74C3.08998 4.37 0.74998 6.26 0.74998 9.155C0.74998 12.62 3.61498 14.345 7.79998 15.35C11.55 16.25 12.3 17.57 12.3 18.965C12.3 20 11.565 21.65 8.24998 21.65C5.15998 21.65 3.94498 20.27 3.77998 18.5H0.47998C0.65998 21.785 3.11998 23.63 5.99998 24.245V27.5H10.5V24.275C13.425 23.72 15.75 22.025 15.75 18.95C15.75 14.69 12.105 13.235 8.69998 12.35Z\" fill=\"#A6B1DC\" />\n                </svg>\n                <div className={classNames(styles.button, {\n                    [styles.buttonTitleActive]: isAssetsOpen\n                })}>{text.assets}</div>\n            </div>\n        </div>;\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AssetsButton);\n"]}]}