{"remainingRequest":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js??ref--13-2!/Users/dimasabitov/Downloads/deltaway.20/src/apps/admin/ui/components/Authentication/Authentication.jsx","dependencies":[{"path":"/Users/dimasabitov/Downloads/deltaway.20/src/apps/admin/ui/components/Authentication/Authentication.jsx","mtime":1671546443072},{"path":"/Users/dimasabitov/Downloads/deltaway.20/.babelrc","mtime":1671546158632},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/cache-loader/dist/cjs.js","mtime":1671546959174},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js","mtime":1671546957682}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends3 = require('babel-runtime/helpers/extends');\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class,\n    _temp2,\n    _jsxFileName = '/Users/dimasabitov/Downloads/deltaway.20/src/apps/admin/ui/components/Authentication/Authentication.jsx';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = require('react-redux');\n\nvar _TextField = require('@material-ui/core/TextField');\n\nvar _TextField2 = _interopRequireDefault(_TextField);\n\nvar _Button = require('@material-ui/core/Button');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _Snackbar = require('@material-ui/core/Snackbar');\n\nvar _Snackbar2 = _interopRequireDefault(_Snackbar);\n\nvar _SnackbarContent = require('@material-ui/core/SnackbarContent');\n\nvar _SnackbarContent2 = _interopRequireDefault(_SnackbarContent);\n\nvar _Error = require('@material-ui/icons/Error');\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nvar _styles = require('@material-ui/core/styles');\n\nvar _authenticate2 = require('../../../services/authenticate');\n\nvar _authenticate3 = _interopRequireDefault(_authenticate2);\n\nvar _constants = require('../../../constants/constants');\n\nvar _Authentication = require('./Authentication.css');\n\nvar _Authentication2 = _interopRequireDefault(_Authentication);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar materialStyles = function materialStyles(theme) {\n    return {\n        error: {\n            backgroundColor: theme.palette.error.dark\n        },\n        icon: {\n            fontSize: 20\n        },\n        iconVariant: {\n            opacity: 0.9,\n            marginRight: theme.spacing.unit\n        },\n        message: {\n            display: 'flex',\n            alignItems: 'center'\n        },\n        margin: {\n            margin: theme.spacing.unit\n        }\n    };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n        authenticate: function authenticate(payload) {\n            return dispatch((0, _authenticate3.default)(payload));\n        }\n    };\n};\n\nvar Authentication = (_temp2 = _class = function (_Component) {\n    (0, _inherits3.default)(Authentication, _Component);\n\n    function Authentication() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, Authentication);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Authentication.__proto__ || Object.getPrototypeOf(Authentication)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            login: '',\n            password: '',\n            errors: {\n                login: false,\n                password: false\n            },\n            authFailed: false\n        }, _this.handleChange = function (credential) {\n            return function (event) {\n                var _this$setState;\n\n                _this.setState((_this$setState = {}, (0, _defineProperty3.default)(_this$setState, credential, event.target.value), (0, _defineProperty3.default)(_this$setState, 'errors', (0, _extends4.default)({}, _this.state.errors, (0, _defineProperty3.default)({}, credential, false))), _this$setState));\n            };\n        }, _this.handleSubmit = function (event) {\n            event.preventDefault();\n\n            var _this$state = _this.state,\n                login = _this$state.login,\n                password = _this$state.password;\n\n            var credentials = {\n                login: login.trim(),\n                password: password.trim()\n            };\n\n            if (!credentials.login || !credentials.password) {\n                return _this.setState({\n                    errors: {\n                        login: !login,\n                        password: !password\n                    }\n                });\n            }\n\n            _this.props.authenticate(credentials).catch(function () {\n                _this.setState({\n                    password: '',\n                    errors: {\n                        login: !login,\n                        password: !password\n                    },\n                    authFailed: true\n                });\n            });\n        }, _this.handleHideFailMessage = function () {\n            _this.setState({\n                authFailed: false\n            });\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(Authentication, [{\n        key: 'render',\n        value: function render() {\n            var _React$createElement, _React$createElement2, _React$createElement3, _React$createElement4, _React$createElement5, _React$createElement6, _React$createElement7, _React$createElement8, _React$createElement9, _React$createElement10, _React$createElement11, _React$createElement12, _React$createElement13;\n\n            var classes = this.props.classes;\n            var _state = this.state,\n                login = _state.login,\n                password = _state.password,\n                errors = _state.errors,\n                authFailed = _state.authFailed;\n\n\n            return _react2.default.createElement(\n                'div',\n                (_React$createElement13 = { className: _Authentication2.default.container, 'data-qa-file': 'Authentication',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 111\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement13, '__self', this), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'Authentication'), _React$createElement13),\n                _react2.default.createElement(\n                    'h1',\n                    (_React$createElement = { className: _Authentication2.default.title, 'data-qa-file': 'Authentication',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 112\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement, '__self', this), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'Authentication'), _React$createElement),\n                    '\\u0412\\u0445\\u043E\\u0434'\n                ),\n                _react2.default.createElement(\n                    'form',\n                    (_React$createElement8 = { className: _Authentication2.default.form, noValidate: true, autoComplete: 'off', onSubmit: this.handleSubmit, 'data-qa-file': 'Authentication',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 113\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement8, '__self', this), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'Authentication'), _React$createElement8),\n                    _react2.default.createElement(_TextField2.default, (_React$createElement2 = {\n                        label: '\\u041B\\u043E\\u0433\\u0438\\u043D',\n                        value: login,\n                        onChange: this.handleChange('login'),\n                        margin: 'normal',\n                        variant: 'outlined',\n                        error: errors.login,\n                        'data-qa-file': 'Authentication',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 114\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement2, '__self', this), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'Authentication'), _React$createElement2)),\n                    _react2.default.createElement(_TextField2.default, (_React$createElement3 = {\n                        label: '\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C',\n                        value: password,\n                        onChange: this.handleChange('password'),\n                        margin: 'normal',\n                        variant: 'outlined',\n                        error: errors.password,\n                        type: 'password',\n                        'data-qa-file': 'Authentication',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 122\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement3, '__self', this), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'Authentication'), _React$createElement3)),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement5 = { className: _Authentication2.default.button, 'data-qa-file': 'Authentication',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 131\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement5, '__self', this), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'Authentication'), _React$createElement5),\n                        _react2.default.createElement(\n                            _Button2.default,\n                            (_React$createElement4 = { variant: 'contained', color: 'primary', type: 'submit', fullWidth: true, 'data-qa-file': 'Authentication',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 132\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement4, '__self', this), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'Authentication'), _React$createElement4),\n                            '\\u0412\\u043E\\u0439\\u0442\\u0438'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement7 = { className: _Authentication2.default.button, 'data-qa-file': 'Authentication',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 136\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement7, '__self', this), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'Authentication'), _React$createElement7),\n                        _react2.default.createElement(\n                            _Button2.default,\n                            (_React$createElement6 = { variant: 'contained', color: 'default', fullWidth: true, href: _constants.ADMIN_PANEL_URL + '/recovery', 'data-qa-file': 'Authentication',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 137\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement6, '__self', this), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'Authentication'), _React$createElement6),\n                            '\\u0417\\u0430\\u0431\\u044B\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?'\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    _Snackbar2.default,\n                    (_React$createElement12 = {\n                        anchorOrigin: {\n                            vertical: 'bottom',\n                            horizontal: 'right'\n                        },\n                        onClose: this.handleHideFailMessage,\n                        open: authFailed,\n                        autoHideDuration: 2000,\n                        'data-qa-file': 'Authentication',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 142\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement12, '__self', this), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'Authentication'), _React$createElement12),\n                    _react2.default.createElement(_SnackbarContent2.default, (_React$createElement11 = {\n                        className: (0, _classnames2.default)(classes.error, classes.margin),\n                        message: _react2.default.createElement(\n                            'span',\n                            (_React$createElement10 = { id: 'client-snackbar', className: classes.message, 'data-qa-file': 'Authentication',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 154\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement10, '__self', this), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'Authentication'), _React$createElement10),\n                            _react2.default.createElement(_Error2.default, (_React$createElement9 = { className: (0, _classnames2.default)(classes.icon, classes.iconVariant), 'data-qa-file': 'Authentication',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 155\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement9, '__self', this), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'Authentication'), _React$createElement9)),\n                            '\\u0412\\u044B \\u0432\\u0432\\u0435\\u043B\\u0438 \\u043D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D \\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C'\n                        ),\n                        'data-qa-file': 'Authentication',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 151\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement11, '__self', this), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'Authentication'), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'Authentication'), _React$createElement11))\n                )\n            );\n        }\n    }]);\n    return Authentication;\n}(_react.Component), _class.propTypes = {\n    authenticate: _propTypes2.default.func.isRequired,\n    classes: _propTypes2.default.object.isRequired\n}, _temp2);\nexports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)((0, _styles.withStyles)(materialStyles)(Authentication));",{"version":3,"sources":["src/apps/admin/ui/components/Authentication/Authentication.jsx"],"names":["materialStyles","error","backgroundColor","theme","palette","dark","icon","fontSize","iconVariant","opacity","marginRight","spacing","unit","message","display","alignItems","margin","mapDispatchToProps","dispatch","authenticate","payload","Authentication","state","login","password","errors","authFailed","handleChange","setState","credential","event","target","value","handleSubmit","preventDefault","credentials","trim","props","catch","handleHideFailMessage","classes","styles","container","title","form","button","ADMIN_PANEL_URL","vertical","horizontal","Component","propTypes","PropTypes","func","isRequired","object"],"mappings":"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","file":"Authentication.jsx","sourceRoot":"/Users/dimasabitov/Downloads/deltaway.20","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classNames from 'classnames';\n\nimport { connect } from 'react-redux';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport authenticate from '../../../services/authenticate';\nimport { ADMIN_PANEL_URL } from '../../../constants/constants';\n\nimport styles from './Authentication.css';\n\nconst materialStyles = theme => ({\n    error: {\n        backgroundColor: theme.palette.error.dark\n    },\n    icon: {\n        fontSize: 20\n    },\n    iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing.unit\n    },\n    message: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    margin: {\n        margin: theme.spacing.unit\n    }\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    authenticate: payload => dispatch(authenticate(payload))\n});\n\nclass Authentication extends Component {\n    static propTypes = {\n        authenticate: PropTypes.func.isRequired,\n        classes: PropTypes.object.isRequired\n    };\n\n    state = {\n        login: '',\n        password: '',\n        errors: {\n            login: false,\n            password: false\n        },\n        authFailed: false\n    };\n\n    handleChange = credential => event => {\n        this.setState({\n            [credential]: event.target.value,\n            errors: {\n                ...this.state.errors,\n                [credential]: false\n            }\n        });\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        const { login, password } = this.state;\n        const credentials = {\n            login: login.trim(),\n            password: password.trim()\n        };\n\n        if (!credentials.login || !credentials.password) {\n            return this.setState({\n                errors: {\n                    login: !login,\n                    password: !password\n                }\n            });\n        }\n\n        this.props.authenticate(credentials)\n            .catch(() => {\n                this.setState({\n                    password: '',\n                    errors: {\n                        login: !login,\n                        password: !password\n                    },\n                    authFailed: true\n                });\n            });\n    };\n\n    handleHideFailMessage = () => {\n        this.setState({\n            authFailed: false\n        });\n    };\n\n    render () {\n        const { classes } = this.props;\n        const { login, password, errors, authFailed } = this.state;\n\n        return <div className={styles.container}>\n            <h1 className={styles.title}>Вход</h1>\n            <form className={styles.form} noValidate autoComplete='off' onSubmit={this.handleSubmit}>\n                <TextField\n                    label='Логин'\n                    value={login}\n                    onChange={this.handleChange('login')}\n                    margin='normal'\n                    variant='outlined'\n                    error={errors.login}\n                />\n                <TextField\n                    label='Пароль'\n                    value={password}\n                    onChange={this.handleChange('password')}\n                    margin='normal'\n                    variant='outlined'\n                    error={errors.password}\n                    type='password'\n                />\n                <div className={styles.button}>\n                    <Button variant='contained' color='primary' type='submit' fullWidth>\n                        Войти\n                    </Button>\n                </div>\n                <div className={styles.button}>\n                    <Button variant='contained' color='default' fullWidth href={`${ADMIN_PANEL_URL}/recovery`}>\n                        Забыли пароль?\n                    </Button>\n                </div>\n            </form>\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right'\n                }}\n                onClose={this.handleHideFailMessage}\n                open={authFailed}\n                autoHideDuration={2000}\n            >\n                <SnackbarContent\n                    className={classNames(classes.error, classes.margin)}\n                    message={\n                        <span id='client-snackbar' className={classes.message}>\n                            <ErrorIcon className={classNames(classes.icon, classes.iconVariant)} />\n                            Вы ввели неправильный логин или пароль\n                        </span>\n                    }\n                />\n            </Snackbar>\n        </div>;\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(withStyles(materialStyles)(Authentication));\n"]}]}