{"remainingRequest":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js??ref--13-2!/Users/dimasabitov/Downloads/deltaway.20/src/apps/client/ui/components/TransactionInfoPopup/TransactionInfoPopup.jsx","dependencies":[{"path":"/Users/dimasabitov/Downloads/deltaway.20/src/apps/client/ui/components/TransactionInfoPopup/TransactionInfoPopup.jsx","mtime":1671546486043},{"path":"/Users/dimasabitov/Downloads/deltaway.20/.babelrc","mtime":1671546158632},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/cache-loader/dist/cjs.js","mtime":1671546959174},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js","mtime":1671546957682}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class,\n    _temp,\n    _jsxFileName = '/Users/dimasabitov/Downloads/deltaway.20/src/apps/client/ui/components/TransactionInfoPopup/TransactionInfoPopup.jsx';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _format = require('date-fns/format');\n\nvar _format2 = _interopRequireDefault(_format);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _TransactionInfoPopup = require('./TransactionInfoPopup.css');\n\nvar _TransactionInfoPopup2 = _interopRequireDefault(_TransactionInfoPopup);\n\nvar _propOr = require('@tinkoff/utils/object/propOr');\n\nvar _propOr2 = _interopRequireDefault(_propOr);\n\nvar _pathOr = require('@tinkoff/utils/object/pathOr');\n\nvar _pathOr2 = _interopRequireDefault(_pathOr);\n\nvar _undefined = require('@tinkoff/utils/is/undefined');\n\nvar _undefined2 = _interopRequireDefault(_undefined);\n\nvar _object = require('@tinkoff/utils/is/object');\n\nvar _object2 = _interopRequireDefault(_object);\n\nvar _array = require('@tinkoff/utils/is/array');\n\nvar _array2 = _interopRequireDefault(_array);\n\nvar _required = require('../Form/validators/required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nvar _setAccountInfoPopup2 = require('../../../actions/setAccountInfoPopup');\n\nvar _setAccountInfoPopup3 = _interopRequireDefault(_setAccountInfoPopup2);\n\nvar _setWithdrawSuccessPopup2 = require('../../../actions/setWithdrawSuccessPopup');\n\nvar _setWithdrawSuccessPopup3 = _interopRequireDefault(_setWithdrawSuccessPopup2);\n\nvar _saveTransaction2 = require('../../../services/client/saveTransaction');\n\nvar _saveTransaction3 = _interopRequireDefault(_saveTransaction2);\n\nvar _saveMoneyOutput2 = require('../../../services/client/saveMoneyOutput');\n\nvar _saveMoneyOutput3 = _interopRequireDefault(_saveMoneyOutput2);\n\nvar _FormInput = require('../FormInput/FormInput');\n\nvar _FormInput2 = _interopRequireDefault(_FormInput);\n\nvar _checkBalance = require('../../../../../../server/api/admin/transaction/utils/checkBalance');\n\nvar _checkBalance2 = _interopRequireDefault(_checkBalance);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n    var application = _ref.application,\n        data = _ref.data;\n\n    return {\n        langMap: application.langMap,\n        transactions: data.transactions,\n        user: data.user\n    };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n        saveMoneyOutput: function saveMoneyOutput(payload) {\n            return dispatch((0, _saveMoneyOutput3.default)(payload));\n        },\n        saveTransaction: function saveTransaction(payload) {\n            return dispatch((0, _saveTransaction3.default)(payload));\n        },\n        setAccountInfoPopup: function setAccountInfoPopup(payload) {\n            return dispatch((0, _setAccountInfoPopup3.default)(payload));\n        },\n        setWithdrawSuccessPopup: function setWithdrawSuccessPopup(payload) {\n            return dispatch((0, _setWithdrawSuccessPopup3.default)(payload));\n        }\n    };\n};\n\nvar TransactionInfoPopup = (_temp = _class = function (_Component) {\n    (0, _inherits3.default)(TransactionInfoPopup, _Component);\n\n    function TransactionInfoPopup(props) {\n        (0, _classCallCheck3.default)(this, TransactionInfoPopup);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TransactionInfoPopup.__proto__ || Object.getPrototypeOf(TransactionInfoPopup)).call(this, props));\n\n        _this.handleChange = function (name, value) {\n            return function (e) {\n                var _this$setState;\n\n                e.stopPropagation();\n                var actualValue = (0, _undefined2.default)(value) ? e.target.value : value;\n\n                if (actualValue.length > _this.state.maxLength) return;\n\n                _this.setState((_this$setState = {}, (0, _defineProperty3.default)(_this$setState, name, (0, _extends3.default)({}, _this.state[name], { value: actualValue, focus: (0, _undefined2.default)(value), isValid: true })), (0, _defineProperty3.default)(_this$setState, 'error', ''), _this$setState));\n            };\n        };\n\n        _this.onFocus = function (name) {\n            return function (e) {\n                e.stopPropagation();\n                _this.setState((0, _defineProperty3.default)({}, name, (0, _extends3.default)({}, _this.state[name], { focus: !_this.state[name].focus })));\n            };\n        };\n\n        _this.onBlur = function (name) {\n            var currentState = _this.handleCheckErrors([name]);\n\n            _this.setState((0, _defineProperty3.default)({}, name, (0, _extends3.default)({}, _this.state[name], { focus: false, isValid: currentState[name].isValid })));\n        };\n\n        _this.handleCheckErrors = function () {\n            var names = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n            var thisState = {};\n            _this.setState({\n                error: ''\n            });\n\n            names.forEach(function (name) {\n                var property = _this.state[name];\n\n                if ((0, _object2.default)(property) && !(0, _array2.default)(property)) {\n                    var _this$setState4;\n\n                    var isValid = true;\n                    var error = void 0;\n\n                    if (_this.state[name].value < 5 && !!_this.state[name].value || !_this.state[name].value) {\n                        error = 'MinValue';\n                    } else if (!(0, _checkBalance2.default)(_this.props.user.balance - _this.state[name].value) && !!_this.state[name].value) {\n                        error = 'Balance';\n                    }\n\n                    if (error) {\n                        isValid = false;\n                    }\n\n                    var newValue = (0, _extends3.default)({}, property, { isValid: isValid });\n                    thisState[name] = newValue;\n\n                    _this.setState((_this$setState4 = {}, (0, _defineProperty3.default)(_this$setState4, name, newValue), (0, _defineProperty3.default)(_this$setState4, 'error', error), _this$setState4));\n                }\n            });\n\n            return thisState;\n        };\n\n        _this.handleSubmit = function (e) {\n            e.preventDefault();\n\n            var amount = _this.state.amount;\n\n\n            var thisState = _this.handleCheckErrors(Object.keys(_this.state));\n            var isValid = (0, _required2.default)(amount.value, { text: false }) === undefined;\n\n            for (var key in thisState) {\n                if (!(0, _pathOr2.default)(['isValid'], true, thisState[key])) {\n                    isValid = false;\n                }\n            }\n\n            if (isValid) {\n                _this.props.saveMoneyOutput({\n                    userId: _this.props.user.id,\n                    amount: amount.value\n                }).then(function () {\n                    _this.props.setWithdrawSuccessPopup({ visible: true, amount: amount.value });\n                    setTimeout(function () {\n                        return _this.closePopup();\n                    }, 2000);\n                }).catch(function (e) {\n                    _this.setState({ error: e.message });\n                });\n            }\n        };\n\n        _this.closePopup = function () {\n            _this.props.setWithdrawSuccessPopup({ visible: false, amount: _this.state.amount.value });\n            _this.props.setAccountInfoPopup();\n        };\n\n        _this.getDate = function (currentDate) {\n            var date = new Date(currentDate);\n            return (0, _format2.default)(date, 'dd.MM.yyyy HH:mm');\n        };\n\n        _this.state = (0, _extends3.default)({}, _this.defaultState(), {\n            error: ''\n        });\n        return _this;\n    }\n\n    (0, _createClass3.default)(TransactionInfoPopup, [{\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (prevProps.isVisible !== this.props.isVisible && !this.props.isVisible) {\n                this.setState((0, _extends3.default)({}, this.defaultState(), {\n                    error: ''\n                }));\n            }\n        }\n    }, {\n        key: 'defaultState',\n        value: function defaultState() {\n            return {\n                amount: { value: '', focus: false, isValid: true }\n            };\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _React$createElement,\n                _React$createElement2,\n                _React$createElement3,\n                _React$createElement4,\n                _React$createElement5,\n                _this2 = this,\n                _React$createElement11,\n                _React$createElement12,\n                _React$createElement13,\n                _React$createElement14,\n                _React$createElement15,\n                _React$createElement16,\n                _React$createElement17,\n                _React$createElement18,\n                _React$createElement19,\n                _React$createElement20,\n                _React$createElement21,\n                _React$createElement22,\n                _React$createElement23;\n\n            var _props = this.props,\n                langMap = _props.langMap,\n                transactions = _props.transactions;\n            var error = this.state.error;\n\n            var text = (0, _propOr2.default)('accountInfo', {}, langMap).transaction;\n\n            return _react2.default.createElement(\n                'div',\n                (_React$createElement23 = { className: _TransactionInfoPopup2.default.transactionPopupContainer, 'data-qa-file': 'TransactionInfoPopup',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 186\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement23, '__self', this), (0, _defineProperty3.default)(_React$createElement23, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement23, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement23),\n                _react2.default.createElement(\n                    'div',\n                    (_React$createElement5 = { className: _TransactionInfoPopup2.default.navbar, 'data-qa-file': 'TransactionInfoPopup',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 187\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement5, '__self', this), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement5),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement = { className: _TransactionInfoPopup2.default.itemNum, 'data-qa-file': 'TransactionInfoPopup',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 188\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement, '__self', this), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement),\n                        '#'\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement2 = { className: _TransactionInfoPopup2.default.itemSum, 'data-qa-file': 'TransactionInfoPopup',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 189\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement2, '__self', this), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement2),\n                        text.summ\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement3 = { className: _TransactionInfoPopup2.default.itemStatus, 'data-qa-file': 'TransactionInfoPopup',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 190\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement3, '__self', this), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement3),\n                        text.status\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement4 = { className: _TransactionInfoPopup2.default.itemDate, 'data-qa-file': 'TransactionInfoPopup',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 191\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement4, '__self', this), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement4),\n                        text.date\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    (_React$createElement11 = { className: _TransactionInfoPopup2.default.transactionsContainer, 'data-qa-file': 'TransactionInfoPopup',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 193\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement11, '__self', this), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement11),\n                    transactions.sort(function (prev, next) {\n                        return next.createdAt - prev.createdAt;\n                    }).map(function (item, i) {\n                        var _React$createElement6, _React$createElement7, _React$createElement8, _React$createElement9, _React$createElement10;\n\n                        return _react2.default.createElement(\n                            'div',\n                            (_React$createElement10 = { key: i, className: _TransactionInfoPopup2.default.transactionItem, 'data-qa-file': 'TransactionInfoPopup',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 196\n                                },\n                                __self: _this2\n                            }, (0, _defineProperty3.default)(_React$createElement10, '__self', _this2), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement10),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement6 = { className: _TransactionInfoPopup2.default.itemNum, 'data-qa-file': 'TransactionInfoPopup',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 197\n                                    },\n                                    __self: _this2\n                                }, (0, _defineProperty3.default)(_React$createElement6, '__self', _this2), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement6),\n                                i + 1\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement7 = { className: _TransactionInfoPopup2.default.itemSum, 'data-qa-file': 'TransactionInfoPopup',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 198\n                                    },\n                                    __self: _this2\n                                }, (0, _defineProperty3.default)(_React$createElement7, '__self', _this2), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement7),\n                                '$ ',\n                                item.value\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement8 = { className: _TransactionInfoPopup2.default.itemStatus, 'data-qa-file': 'TransactionInfoPopup',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 199\n                                    },\n                                    __self: _this2\n                                }, (0, _defineProperty3.default)(_React$createElement8, '__self', _this2), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement8),\n                                item.content\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement9 = { className: _TransactionInfoPopup2.default.itemDate, 'data-qa-file': 'TransactionInfoPopup',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 202\n                                    },\n                                    __self: _this2\n                                }, (0, _defineProperty3.default)(_React$createElement9, '__self', _this2), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement9),\n                                _this2.getDate(item.createdAt)\n                            )\n                        );\n                    })\n                ),\n                _react2.default.createElement(\n                    'div',\n                    (_React$createElement22 = { className: _TransactionInfoPopup2.default.footer, 'data-qa-file': 'TransactionInfoPopup',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 205\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement22, '__self', this), (0, _defineProperty3.default)(_React$createElement22, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement22, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement22),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement12 = { className: _TransactionInfoPopup2.default.funds, 'data-qa-file': 'TransactionInfoPopup',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 206\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement12, '__self', this), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement12),\n                        text.moneyWithdrawalTitle\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        (_React$createElement21 = { className: _TransactionInfoPopup2.default.rightContainer, 'data-qa-file': 'TransactionInfoPopup',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 207\n                            },\n                            __self: this\n                        }, (0, _defineProperty3.default)(_React$createElement21, '__self', this), (0, _defineProperty3.default)(_React$createElement21, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement21, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement21),\n                        _react2.default.createElement(\n                            'div',\n                            (_React$createElement13 = { className: _TransactionInfoPopup2.default.summ, 'data-qa-file': 'TransactionInfoPopup',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 208\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement13, '__self', this), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement13),\n                            text.summ,\n                            ', $'\n                        ),\n                        _react2.default.createElement(\n                            'form',\n                            (_React$createElement20 = { className: _TransactionInfoPopup2.default.form, onSubmit: this.handleSubmit, 'data-qa-file': 'TransactionInfoPopup',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 209\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement20, '__self', this), (0, _defineProperty3.default)(_React$createElement20, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement20, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement20),\n                            _react2.default.createElement(\n                                'div',\n                                (_React$createElement15 = { className: _TransactionInfoPopup2.default.amountContainerField, 'data-qa-file': 'TransactionInfoPopup',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 210\n                                    },\n                                    __self: this\n                                }, (0, _defineProperty3.default)(_React$createElement15, '__self', this), (0, _defineProperty3.default)(_React$createElement15, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement15, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement15),\n                                _react2.default.createElement(_FormInput2.default, (_React$createElement14 = {\n                                    texts: { amount: text.inputPlaceholder },\n                                    name: 'amount',\n                                    onFocus: this.onFocus,\n                                    onBlur: this.onBlur,\n                                    handleChange: this.handleChange,\n                                    value: this.state.amount.value,\n                                    focus: this.state.amount.value,\n                                    type: 'number',\n                                    'data-qa-file': 'TransactionInfoPopup',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 211\n                                    },\n                                    __self: this\n                                }, (0, _defineProperty3.default)(_React$createElement14, '__self', this), (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement14))\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                (_React$createElement19 = { type: 'submit', className: (0, _classnames2.default)(_TransactionInfoPopup2.default.button, (0, _defineProperty3.default)({}, _TransactionInfoPopup2.default.buttonUnactive, !this.state['amount'].isValid || error)), 'data-qa-file': 'TransactionInfoPopup',\n                                    __source: {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 222\n                                    },\n                                    __self: this\n                                }, (0, _defineProperty3.default)(_React$createElement19, '__self', this), (0, _defineProperty3.default)(_React$createElement19, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement19, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement19),\n                                text.moneyWithdrawal,\n                                _react2.default.createElement(\n                                    'div',\n                                    (_React$createElement18 = { className: (0, _classnames2.default)(_TransactionInfoPopup2.default.failedPopup, (0, _defineProperty3.default)({}, _TransactionInfoPopup2.default.isFailedPopup, !this.state['amount'].isValid || error)), 'data-qa-file': 'TransactionInfoPopup',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 226\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement18, '__self', this), (0, _defineProperty3.default)(_React$createElement18, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement18, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement18),\n                                    _react2.default.createElement('img', (_React$createElement16 = { src: '/src/apps/client/ui/components/ConfirmPopup/img/info.svg', alt: 'info', 'data-qa-file': 'TransactionInfoPopup',\n                                        __source: {\n                                            fileName: _jsxFileName,\n                                            lineNumber: 229\n                                        },\n                                        __self: this\n                                    }, (0, _defineProperty3.default)(_React$createElement16, '__self', this), (0, _defineProperty3.default)(_React$createElement16, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement16, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement16)),\n                                    _react2.default.createElement(\n                                        'div',\n                                        (_React$createElement17 = { className: _TransactionInfoPopup2.default.title, 'data-qa-file': 'TransactionInfoPopup',\n                                            __source: {\n                                                fileName: _jsxFileName,\n                                                lineNumber: 230\n                                            },\n                                            __self: this\n                                        }, (0, _defineProperty3.default)(_React$createElement17, '__self', this), (0, _defineProperty3.default)(_React$createElement17, 'data-qa-file', 'TransactionInfoPopup'), (0, _defineProperty3.default)(_React$createElement17, 'data-qa-file', 'TransactionInfoPopup'), _React$createElement17),\n                                        text.error['failed' + (!this.state['amount'].isValid || error ? error : '')]\n                                    )\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return TransactionInfoPopup;\n}(_react.Component), _class.propTypes = {\n    langMap: _propTypes2.default.object.isRequired,\n    transactions: _propTypes2.default.array.isRequired,\n    setAccountInfoPopup: _propTypes2.default.func.isRequired,\n    user: _propTypes2.default.object,\n    saveTransaction: _propTypes2.default.func.isRequired,\n    saveMoneyOutput: _propTypes2.default.func.isRequired,\n    isVisible: _propTypes2.default.bool,\n    setWithdrawSuccessPopup: _propTypes2.default.func.isRequired\n}, _class.defaultProps = {\n    transactions: []\n}, _temp);\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(TransactionInfoPopup);",{"version":3,"sources":["src/apps/client/ui/components/TransactionInfoPopup/TransactionInfoPopup.jsx"],"names":["mapStateToProps","application","data","langMap","transactions","user","mapDispatchToProps","dispatch","saveMoneyOutput","payload","saveTransaction","setAccountInfoPopup","setWithdrawSuccessPopup","TransactionInfoPopup","props","handleChange","name","value","e","stopPropagation","actualValue","target","length","state","maxLength","setState","focus","isValid","onFocus","onBlur","currentState","handleCheckErrors","names","thisState","error","forEach","property","balance","newValue","handleSubmit","preventDefault","amount","Object","keys","text","undefined","key","userId","id","then","visible","setTimeout","closePopup","catch","message","getDate","date","Date","currentDate","defaultState","prevProps","isVisible","transaction","styles","transactionPopupContainer","navbar","itemNum","itemSum","summ","itemStatus","status","itemDate","transactionsContainer","sort","prev","next","createdAt","map","item","i","transactionItem","content","footer","funds","moneyWithdrawalTitle","rightContainer","form","amountContainerField","inputPlaceholder","button","buttonUnactive","moneyWithdrawal","failedPopup","isFailedPopup","title","Component","propTypes","PropTypes","object","isRequired","array","func","bool","defaultProps"],"mappings":"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","file":"TransactionInfoPopup.jsx","sourceRoot":"/Users/dimasabitov/Downloads/deltaway.20","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport format from 'date-fns/format';\nimport classNames from 'classnames';\n\nimport styles from './TransactionInfoPopup.css';\n\nimport propOr from '@tinkoff/utils/object/propOr';\nimport pathOr from '@tinkoff/utils/object/pathOr';\nimport isUndefined from '@tinkoff/utils/is/undefined';\nimport isObject from '@tinkoff/utils/is/object';\nimport isArray from '@tinkoff/utils/is/array';\n\nimport required from '../Form/validators/required';\n\nimport setAccountInfoPopup from '../../../actions/setAccountInfoPopup';\nimport setWithdrawSuccessPopup from '../../../actions/setWithdrawSuccessPopup';\nimport saveTransaction from '../../../services/client/saveTransaction';\nimport saveMoneyOutput from '../../../services/client/saveMoneyOutput';\n\nimport FormInput from '../FormInput/FormInput';\nimport checkBalance from '../../../../../../server/api/admin/transaction/utils/checkBalance';\n\nconst mapStateToProps = ({ application, data }) => {\n    return {\n        langMap: application.langMap,\n        transactions: data.transactions,\n        user: data.user\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    saveMoneyOutput: payload => dispatch(saveMoneyOutput(payload)),\n    saveTransaction: payload => dispatch(saveTransaction(payload)),\n    setAccountInfoPopup: payload => dispatch(setAccountInfoPopup(payload)),\n    setWithdrawSuccessPopup: payload => dispatch(setWithdrawSuccessPopup(payload))\n});\n\nclass TransactionInfoPopup extends Component {\n    static propTypes = {\n        langMap: PropTypes.object.isRequired,\n        transactions: PropTypes.array.isRequired,\n        setAccountInfoPopup: PropTypes.func.isRequired,\n        user: PropTypes.object,\n        saveTransaction: PropTypes.func.isRequired,\n        saveMoneyOutput: PropTypes.func.isRequired,\n        isVisible: PropTypes.bool,\n        setWithdrawSuccessPopup: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        transactions: []\n    }\n\n    constructor (props) {\n        super(props);\n        this.state = {\n            ...this.defaultState(),\n            error: ''\n        };\n    }\n\n    componentDidUpdate (prevProps) {\n        if (prevProps.isVisible !== this.props.isVisible && !this.props.isVisible) {\n            this.setState({\n                ...this.defaultState(),\n                error: ''\n            });\n        }\n    }\n\n    defaultState () {\n        return {\n            amount: { value: '', focus: false, isValid: true }\n        };\n    };\n\n    handleChange = (name, value) => e => {\n        e.stopPropagation();\n        const actualValue = isUndefined(value) ? e.target.value : value;\n\n        if (actualValue.length > this.state.maxLength) return;\n\n        this.setState({\n            [name]: { ...this.state[name], value: actualValue, focus: isUndefined(value), isValid: true },\n            error: ''\n        });\n    };\n\n    onFocus = name => e => {\n        e.stopPropagation();\n        this.setState({\n            [name]: { ...this.state[name], focus: !this.state[name].focus }\n        });\n    };\n\n    onBlur = name => {\n        const currentState = this.handleCheckErrors([name]);\n\n        this.setState({\n            [name]: { ...this.state[name], focus: false, isValid: currentState[name].isValid }\n        });\n    };\n\n    handleCheckErrors = (names = []) => {\n        const thisState = {};\n        this.setState({\n            error: ''\n        });\n\n        names.forEach(name => {\n            const property = this.state[name];\n\n            if (isObject(property) && !isArray(property)) {\n                let isValid = true;\n                let error;\n\n                if (this.state[name].value < 5 && !!this.state[name].value || !this.state[name].value) {\n                    error = 'MinValue';\n                } else if (!checkBalance(this.props.user.balance - this.state[name].value) && !!this.state[name].value) {\n                    error = 'Balance';\n                }\n\n                if (error) {\n                    isValid = false;\n                }\n\n                const newValue = { ...property, isValid };\n                thisState[name] = newValue;\n\n                this.setState({\n                    [name]: newValue,\n                    error\n                });\n            }\n        });\n\n        return thisState;\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const { amount } = this.state;\n\n        const thisState = this.handleCheckErrors(Object.keys(this.state));\n        let isValid = required(amount.value, { text: false }) === undefined;\n\n        for (let key in thisState) {\n            if (!pathOr(['isValid'], true, thisState[key])) {\n                isValid = false;\n            }\n        }\n\n        if (isValid) {\n            this.props.saveMoneyOutput({\n                userId: this.props.user.id,\n                amount: amount.value\n            })\n                .then(() => {\n                    this.props.setWithdrawSuccessPopup({ visible: true, amount: amount.value });\n                    setTimeout(() => this.closePopup(), 2000);\n                })\n                .catch(e => {\n                    this.setState({ error: e.message });\n                });\n        }\n    };\n\n    closePopup = () => {\n        this.props.setWithdrawSuccessPopup({ visible: false, amount: this.state.amount.value });\n        this.props.setAccountInfoPopup();\n    };\n\n    getDate = currentDate => {\n        const date = new Date(currentDate);\n        return format(date, 'dd.MM.yyyy HH:mm');\n    };\n\n    render () {\n        const { langMap, transactions } = this.props;\n        const { error } = this.state;\n        const text = propOr('accountInfo', {}, langMap).transaction;\n\n        return <div className={styles.transactionPopupContainer}>\n            <div className={styles.navbar}>\n                <div className={styles.itemNum}>#</div>\n                <div className={styles.itemSum}>{text.summ}</div>\n                <div className={styles.itemStatus}>{text.status}</div>\n                <div className={styles.itemDate}>{text.date}</div>\n            </div>\n            <div className={styles.transactionsContainer}>\n                {transactions\n                    .sort((prev, next) => next.createdAt - prev.createdAt)\n                    .map((item, i) => <div key={i} className={styles.transactionItem}>\n                        <div className={styles.itemNum}>{i + 1}</div>\n                        <div className={styles.itemSum}>$ {item.value}</div>\n                        <div className={styles.itemStatus}>\n                            {item.content}\n                        </div>\n                        <div className={styles.itemDate}>{this.getDate(item.createdAt)}</div>\n                    </div>)}\n            </div>\n            <div className={styles.footer}>\n                <div className={styles.funds}>{text.moneyWithdrawalTitle}</div>\n                <div className={styles.rightContainer}>\n                    <div className={styles.summ}>{text.summ}, $</div>\n                    <form className={styles.form} onSubmit={this.handleSubmit} >\n                        <div className={styles.amountContainerField}>\n                            <FormInput\n                                texts={{ amount: text.inputPlaceholder }}\n                                name='amount'\n                                onFocus={this.onFocus}\n                                onBlur={this.onBlur}\n                                handleChange={this.handleChange}\n                                value={this.state.amount.value}\n                                focus={this.state.amount.value}\n                                type='number'\n                            />\n                        </div>\n                        <button type='submit' className={classNames(styles.button, {\n                            [styles.buttonUnactive]: !this.state['amount'].isValid || error\n                        })}>\n                            {text.moneyWithdrawal}\n                            <div className={classNames(styles.failedPopup, {\n                                [styles.isFailedPopup]: !this.state['amount'].isValid || error\n                            })}>\n                                <img src=\"/src/apps/client/ui/components/ConfirmPopup/img/info.svg\" alt=\"info\" />\n                                <div className={styles.title}>\n                                    {/* {!this.state['amount'].isValid && (error || 'Недостаточно средств')} */}\n                                    {text.error[`failed${!this.state['amount'].isValid || error ? error : ''}`]}\n                                </div>\n                            </div>\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>;\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TransactionInfoPopup);\n"]}]}