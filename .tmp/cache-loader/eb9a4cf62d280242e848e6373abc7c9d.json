{"remainingRequest":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js??ref--13-2!C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\admin\\ui\\components\\Form\\fields\\FormFieldDownload\\FormFieldDownload.jsx","dependencies":[{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\admin\\ui\\components\\Form\\fields\\FormFieldDownload\\FormFieldDownload.jsx","mtime":1671546436000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\.babelrc","mtime":1671546158000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671546958000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js","mtime":1671546956000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _extends4 = require('babel-runtime/helpers/extends');\n\nvar _extends5 = _interopRequireDefault(_extends4);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _jsxFileName = 'C:\\\\Users\\\\cherv\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\deltaway.20\\\\src\\\\apps\\\\admin\\\\ui\\\\components\\\\Form\\\\fields\\\\FormFieldDownload\\\\FormFieldDownload.jsx',\n    _class,\n    _temp;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = require('react-redux');\n\nvar _uploadFile2 = require('../../../../../services/uploadFile');\n\nvar _uploadFile3 = _interopRequireDefault(_uploadFile2);\n\nvar _reactSortableHoc = require('react-sortable-hoc');\n\nvar _Button = require('@material-ui/core/Button');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _GetAppRounded = require('@material-ui/icons/GetAppRounded');\n\nvar _GetAppRounded2 = _interopRequireDefault(_GetAppRounded);\n\nvar _IconButton = require('@material-ui/core/IconButton');\n\nvar _IconButton2 = _interopRequireDefault(_IconButton);\n\nvar _Delete = require('@material-ui/icons/Delete');\n\nvar _Delete2 = _interopRequireDefault(_Delete);\n\nvar _Typography = require('@material-ui/core/Typography');\n\nvar _Typography2 = _interopRequireDefault(_Typography);\n\nvar _styles = require('@material-ui/core/styles');\n\nvar _remove = require('@tinkoff/utils/array/remove');\n\nvar _remove2 = _interopRequireDefault(_remove);\n\nvar _arrayMove = require('../../utils/arrayMove');\n\nvar _arrayMove2 = _interopRequireDefault(_arrayMove);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar materialStyles = function materialStyles(theme) {\n    return {\n        upload: {\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: '400px',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.unit\n        },\n        uploadIcon: {\n            marginLeft: theme.spacing.unit,\n            width: '30px',\n            height: '19px',\n            color: 'black'\n        },\n        filesList: {\n            overflow: 'auto'\n        },\n        fileItem: {\n            position: 'relative',\n            userSelect: 'none',\n            padding: '16px',\n            width: '200px',\n            float: 'left',\n            zIndex: '100',\n            cursor: 'grab',\n            '&:hover $fileItemDeleteContainer': {\n                visibility: 'visible'\n            }\n        },\n        fileItemSorting: {\n            '&:hover $fileItemDeleteContainer': {\n                visibility: 'hidden'\n            }\n        },\n        fileImage: {\n            width: '100%'\n        },\n        fileItemDeleteContainer: {\n            position: 'absolute',\n            right: '0',\n            top: '0',\n            visibility: 'hidden',\n            background: 'white',\n            borderRadius: '100%'\n        },\n        link: {\n            textDecoration: 'none'\n        }\n    };\n};\n\nvar File = (0, _reactSortableHoc.SortableHandle)(function (_ref) {\n    var _React$createElement;\n\n    var src = _ref.src;\n\n    var srcArr = src.split('/');\n\n    return _react2.default.createElement(\n        _Typography2.default,\n        (_React$createElement = {\n            'data-qa-file': 'FormFieldDownload',\n            __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75\n            },\n            __self: undefined\n        }, (0, _defineProperty3.default)(_React$createElement, '__self', undefined), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'FormFieldDownload'), _React$createElement),\n        srcArr[srcArr.length - 1]\n    );\n});\n\nvar FilePreview = (0, _reactSortableHoc.SortableElement)(function (_ref2) {\n    var _React$createElement2, _React$createElement3, _React$createElement4, _React$createElement5, _React$createElement6;\n\n    var file = _ref2.file,\n        i = _ref2.i,\n        classes = _ref2.classes,\n        onFileDelete = _ref2.onFileDelete,\n        isSorting = _ref2.isSorting;\n    return _react2.default.createElement(\n        'div',\n        (_React$createElement6 = { className: (0, _classnames2.default)(classes.fileItem, (0, _defineProperty3.default)({}, classes.fileItemSorting, isSorting)), 'data-qa-file': 'FormFieldDownload',\n            __source: {\n                fileName: _jsxFileName,\n                lineNumber: 79\n            },\n            __self: undefined\n        }, (0, _defineProperty3.default)(_React$createElement6, '__self', undefined), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'FormFieldDownload'), _React$createElement6),\n        _react2.default.createElement(\n            'div',\n            (_React$createElement4 = { className: classes.fileItemDeleteContainer, 'data-qa-file': 'FormFieldDownload',\n                __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 82\n                },\n                __self: undefined\n            }, (0, _defineProperty3.default)(_React$createElement4, '__self', undefined), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'FormFieldDownload'), _React$createElement4),\n            _react2.default.createElement(\n                _IconButton2.default,\n                (_React$createElement3 = {\n                    'aria-label': 'Delete',\n                    onClick: onFileDelete(i),\n                    'data-qa-file': 'FormFieldDownload',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 83\n                    },\n                    __self: undefined\n                }, (0, _defineProperty3.default)(_React$createElement3, '__self', undefined), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'FormFieldDownload'), _React$createElement3),\n                _react2.default.createElement(_Delete2.default, (_React$createElement2 = {\n                    'data-qa-file': 'FormFieldDownload',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 87\n                    },\n                    __self: undefined\n                }, (0, _defineProperty3.default)(_React$createElement2, '__self', undefined), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'FormFieldDownload'), _React$createElement2))\n            )\n        ),\n        _react2.default.createElement(File, (_React$createElement5 = { src: file.path, type: file.type, name: file.name, fileClassName: classes.fileImage, 'data-qa-file': 'FormFieldDownload',\n            __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90\n            },\n            __self: undefined\n        }, (0, _defineProperty3.default)(_React$createElement5, '__self', undefined), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'FormFieldDownload'), _React$createElement5))\n    );\n});\n\nvar FilesPreviews = (0, _reactSortableHoc.SortableContainer)(function (_ref3) {\n    var _React$createElement7;\n\n    var files = _ref3.files,\n        classes = _ref3.classes,\n        rest = (0, _objectWithoutProperties3.default)(_ref3, ['files', 'classes']);\n\n    return _react2.default.createElement(\n        'div',\n        (_React$createElement7 = { className: classes.filesList, 'data-qa-file': 'FormFieldDownload',\n            __source: {\n                fileName: _jsxFileName,\n                lineNumber: 95\n            },\n            __self: undefined\n        }, (0, _defineProperty3.default)(_React$createElement7, '__self', undefined), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'FormFieldDownload'), _React$createElement7),\n        files.map(function (file, i) {\n            return _react2.default.createElement(FilePreview, (0, _extends5.default)({\n                key: i,\n                index: i,\n                i: i,\n                file: file,\n                classes: classes\n            }, rest, (0, _defineProperty3.default)({\n                'data-qa-file': 'FormFieldDownload',\n                __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 96\n                },\n                __self: undefined\n            }, '__self', undefined)));\n        })\n    );\n});\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n        uploadFile: function uploadFile(payload) {\n            return dispatch((0, _uploadFile3.default)(payload));\n        }\n    };\n};\n\nvar FormFieldDownload = (_temp = _class = function (_Component) {\n    (0, _inherits3.default)(FormFieldDownload, _Component);\n\n    function FormFieldDownload() {\n        var _ref4;\n\n        (0, _classCallCheck3.default)(this, FormFieldDownload);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (_ref4 = FormFieldDownload.__proto__ || Object.getPrototypeOf(FormFieldDownload)).call.apply(_ref4, [this].concat(args)));\n\n        _this.onDragStart = function () {\n            _this.setState({\n                isSorting: true\n            });\n        };\n\n        _this.onDragEnd = function (_ref5) {\n            var oldIndex = _ref5.oldIndex,\n                newIndex = _ref5.newIndex;\n            var value = _this.props.value;\n\n\n            _this.props.onChange((0, _arrayMove2.default)(value, oldIndex, newIndex));\n\n            _this.setState({\n                isSorting: false\n            });\n        };\n\n        _this.handleFileDelete = function (i) {\n            return function () {\n                var value = _this.props.value;\n\n\n                _this.props.onChange((0, _remove2.default)(i, 1, value));\n            };\n        };\n\n        _this.state = {\n            isSorting: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(FormFieldDownload, [{\n        key: 'render',\n        value: function render() {\n            var _React$createElement8, _React$createElement9, _React$createElement10, _React$createElement11, _React$createElement12;\n\n            var _props = this.props,\n                classes = _props.classes,\n                value = _props.value;\n            var isSorting = this.state.isSorting;\n\n\n            return _react2.default.createElement(\n                'div',\n                (_React$createElement12 = {\n                    'data-qa-file': 'FormFieldDownload',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 162\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement12, '__self', this), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'FormFieldDownload'), _React$createElement12),\n                _react2.default.createElement(\n                    'div',\n                    (_React$createElement10 = { className: classes.upload, 'data-qa-file': 'FormFieldDownload',\n                        __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 163\n                        },\n                        __self: this\n                    }, (0, _defineProperty3.default)(_React$createElement10, '__self', this), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'FormFieldDownload'), _React$createElement10),\n                    _react2.default.createElement(\n                        'a',\n                        (0, _extends5.default)({ className: classes.link }, value.length ? { href: value[0].path } : {}, (0, _defineProperty3.default)({ download: true, 'data-qa-file': 'FormFieldDownload',\n                            __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 164\n                            },\n                            __self: this\n                        }, '__self', this)),\n                        _react2.default.createElement(\n                            _Button2.default,\n                            (_React$createElement9 = { variant: 'contained', component: 'span', color: 'default', 'data-qa-file': 'FormFieldDownload',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 165\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement9, '__self', this), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'FormFieldDownload'), _React$createElement9),\n                            '\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C',\n                            _react2.default.createElement(_GetAppRounded2.default, (_React$createElement8 = { className: classes.uploadIcon, 'data-qa-file': 'FormFieldDownload',\n                                __source: {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 167\n                                },\n                                __self: this\n                            }, (0, _defineProperty3.default)(_React$createElement8, '__self', this), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'FormFieldDownload'), _React$createElement8))\n                        )\n                    )\n                ),\n                _react2.default.createElement(FilesPreviews, (_React$createElement11 = {\n                    axis: 'xy',\n                    classes: classes,\n                    files: value,\n                    onFileDelete: this.handleFileDelete,\n                    onSortStart: this.onDragStart,\n                    onSortEnd: this.onDragEnd,\n                    isSorting: isSorting,\n                    useDragHandle: true,\n                    'data-qa-file': 'FormFieldDownload',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 171\n                    },\n                    __self: this\n                }, (0, _defineProperty3.default)(_React$createElement11, '__self', this), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'FormFieldDownload'), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'FormFieldDownload'), _React$createElement11))\n            );\n        }\n    }]);\n    return FormFieldDownload;\n}(_react.Component), _class.propTypes = {\n    classes: _propTypes2.default.object.isRequired,\n    uploadFile: _propTypes2.default.func.isRequired,\n    value: _propTypes2.default.array,\n    schema: _propTypes2.default.object,\n    onChange: _propTypes2.default.func,\n    name: _propTypes2.default.string\n}, _class.defaultProps = {\n    value: [],\n    schema: {},\n    name: ''\n}, _temp);\nexports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)((0, _styles.withStyles)(materialStyles)(FormFieldDownload));",{"version":3,"sources":["src\\apps\\admin\\ui\\components\\Form\\fields\\FormFieldDownload\\FormFieldDownload.jsx"],"names":["materialStyles","upload","display","alignItems","maxWidth","justifyContent","marginTop","theme","spacing","unit","uploadIcon","marginLeft","width","height","color","filesList","overflow","fileItem","position","userSelect","padding","float","zIndex","cursor","visibility","fileItemSorting","fileImage","fileItemDeleteContainer","right","top","background","borderRadius","link","textDecoration","File","src","srcArr","split","length","FilePreview","file","i","classes","onFileDelete","isSorting","path","type","name","FilesPreviews","files","rest","map","mapDispatchToProps","uploadFile","dispatch","payload","FormFieldDownload","args","onDragStart","setState","onDragEnd","oldIndex","newIndex","value","props","onChange","handleFileDelete","state","href","Component","propTypes","PropTypes","object","isRequired","func","array","schema","string","defaultProps"],"mappings":"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","file":"FormFieldDownload.jsx","sourceRoot":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classNames from 'classnames';\n\nimport { connect } from 'react-redux';\nimport uploadFile from '../../../../../services/uploadFile';\n\nimport { SortableContainer, SortableElement, SortableHandle } from 'react-sortable-hoc';\n\nimport Button from '@material-ui/core/Button';\nimport GetAppRoundedIcon from '@material-ui/icons/GetAppRounded';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Typography from '@material-ui/core/Typography';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport remove from '@tinkoff/utils/array/remove';\nimport arrayMove from '../../utils/arrayMove';\n\nconst materialStyles = theme => ({\n    upload: {\n        display: 'flex',\n        alignItems: 'center',\n        maxWidth: '400px',\n        justifyContent: 'space-between',\n        marginTop: theme.spacing.unit\n    },\n    uploadIcon: {\n        marginLeft: theme.spacing.unit,\n        width: '30px',\n        height: '19px',\n        color: 'black'\n    },\n    filesList: {\n        overflow: 'auto'\n    },\n    fileItem: {\n        position: 'relative',\n        userSelect: 'none',\n        padding: '16px',\n        width: '200px',\n        float: 'left',\n        zIndex: '100',\n        cursor: 'grab',\n        '&:hover $fileItemDeleteContainer': {\n            visibility: 'visible'\n        }\n    },\n    fileItemSorting: {\n        '&:hover $fileItemDeleteContainer': {\n            visibility: 'hidden'\n        }\n    },\n    fileImage: {\n        width: '100%'\n    },\n    fileItemDeleteContainer: {\n        position: 'absolute',\n        right: '0',\n        top: '0',\n        visibility: 'hidden',\n        background: 'white',\n        borderRadius: '100%'\n    },\n    link: {\n        textDecoration: 'none'\n    }\n});\n\nconst File = SortableHandle(({ src }) => {\n    const srcArr = src.split('/');\n\n    return <Typography>{srcArr[srcArr.length - 1]}</Typography>;\n});\n\nconst FilePreview = SortableElement(({ file, i, classes, onFileDelete, isSorting }) =>\n    <div className={classNames(classes.fileItem, {\n        [classes.fileItemSorting]: isSorting\n    })}>\n        <div className={classes.fileItemDeleteContainer}>\n            <IconButton\n                aria-label='Delete'\n                onClick={onFileDelete(i)}\n            >\n                <DeleteIcon />\n            </IconButton>\n        </div>\n        <File src={file.path} type={file.type} name={file.name} fileClassName={classes.fileImage} />\n    </div>);\n\nconst FilesPreviews = SortableContainer(({ files, classes, ...rest }) => {\n    return (\n        <div className={classes.filesList}>\n            {files.map((file, i) => <FilePreview\n                key={i}\n                index={i}\n                i={i}\n                file={file}\n                classes={classes}\n                {...rest}\n            />)}\n        </div>\n    );\n});\n\nconst mapDispatchToProps = dispatch => ({\n    uploadFile: payload => dispatch(uploadFile(payload))\n});\n\nclass FormFieldDownload extends Component {\n    static propTypes = {\n        classes: PropTypes.object.isRequired,\n        uploadFile: PropTypes.func.isRequired,\n        value: PropTypes.array,\n        schema: PropTypes.object,\n        onChange: PropTypes.func,\n        name: PropTypes.string\n    };\n\n    static defaultProps = {\n        value: [],\n        schema: {},\n        name: ''\n    };\n\n    constructor (...args) {\n        super(...args);\n\n        this.state = {\n            isSorting: false\n        };\n    }\n\n    onDragStart = () => {\n        this.setState({\n            isSorting: true\n        });\n    };\n\n    onDragEnd = ({ oldIndex, newIndex }) => {\n        const { value } = this.props;\n\n        this.props.onChange(arrayMove(value, oldIndex, newIndex));\n\n        this.setState({\n            isSorting: false\n        });\n    };\n\n    handleFileDelete = i => () => {\n        const { value } = this.props;\n\n        this.props.onChange(remove(i, 1, value));\n    };\n\n    render () {\n        const { classes, value } = this.props;\n        const { isSorting } = this.state;\n\n        return <div>\n            <div className={classes.upload}>\n                <a className={classes.link} {...(value.length ? { href: value[0].path } : {})} download>\n                    <Button variant='contained' component='span' color='default'>\n                        Скачать\n                        <GetAppRoundedIcon className={classes.uploadIcon} />\n                    </Button>\n                </a>\n            </div>\n            <FilesPreviews\n                axis='xy'\n                classes={classes}\n                files={value}\n                onFileDelete={this.handleFileDelete}\n                onSortStart={this.onDragStart}\n                onSortEnd={this.onDragEnd}\n                isSorting={isSorting}\n                useDragHandle\n            />\n        </div>;\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(withStyles(materialStyles)(FormFieldDownload));\n"]}]}