{"remainingRequest":"/home/vps/ppf/node_modules/babel-loader/lib/index.js??ref--13-2!/home/vps/ppf/src/apps/admin/App.jsx","dependencies":[{"path":"/home/vps/ppf/src/apps/admin/App.jsx","mtime":1671127545505},{"path":"/home/vps/ppf/.babelrc","mtime":1671127885972},{"path":"/home/vps/ppf/node_modules/cache-loader/dist/cjs.js","mtime":1671127657171},{"path":"/home/vps/ppf/node_modules/babel-loader/lib/index.js","mtime":1671127654997}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class, _temp, _React$createElement10, _React$createElement11, _React$createElement12, _React$createElement13, _React$createElement14;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nrequire('../../../client/vendor');\n\nrequire('../../css/main.css');\n\nvar _reactRedux = require('react-redux');\n\nvar _checkAuthentication2 = require('./services/checkAuthentication');\n\nvar _checkAuthentication3 = _interopRequireDefault(_checkAuthentication2);\n\nvar _getUnvisitedMoneyOutput2 = require('./services/getUnvisitedMoneyOutput');\n\nvar _getUnvisitedMoneyOutput3 = _interopRequireDefault(_getUnvisitedMoneyOutput2);\n\nvar _getUnvisitedMessageHistory2 = require('./services/getUnvisitedMessageHistory');\n\nvar _getUnvisitedMessageHistory3 = _interopRequireDefault(_getUnvisitedMessageHistory2);\n\nvar _reactRouterDom = require('react-router-dom');\n\nvar _reactRouter = require('react-router');\n\nvar _messageWebsocket = require('./services/messageWebsocket');\n\nvar _messageWebsocket2 = _interopRequireDefault(_messageWebsocket);\n\nvar _outputWebsocket = require('./services/outputWebsocket');\n\nvar _outputWebsocket2 = _interopRequireDefault(_outputWebsocket);\n\nvar _QiwiPage = require('./ui/pages/QiwiPage/QiwiPage.jsx');\n\nvar _QiwiPage2 = _interopRequireDefault(_QiwiPage);\n\nvar _ChatPage = require('./ui/pages/ChatPage/ChatPage.jsx');\n\nvar _ChatPage2 = _interopRequireDefault(_ChatPage);\n\nvar _Header = require('./ui/components/Header/Header.jsx');\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _Authentication = require('./ui/components/Authentication/Authentication.jsx');\n\nvar _Authentication2 = _interopRequireDefault(_Authentication);\n\nvar _Recovery = require('./ui/components/Recovery/Recovery.jsx');\n\nvar _Recovery2 = _interopRequireDefault(_Recovery);\n\nvar _CircularProgress = require('@material-ui/core/CircularProgress');\n\nvar _CircularProgress2 = _interopRequireDefault(_CircularProgress);\n\nvar _CredentialsPage = require('./ui/pages/CredentialsPage/CredentialsPage.jsx');\n\nvar _CredentialsPage2 = _interopRequireDefault(_CredentialsPage);\n\nvar _DatabasePage = require('./ui/pages/DatabasePage/DatabasePage.jsx');\n\nvar _DatabasePage2 = _interopRequireDefault(_DatabasePage);\n\nvar _UsersPage = require('./ui/pages/UsersPage/UsersPage.jsx');\n\nvar _UsersPage2 = _interopRequireDefault(_UsersPage);\n\nvar _PaymentsPage = require('./ui/pages/PaymentsPage/PaymentsPage.jsx');\n\nvar _PaymentsPage2 = _interopRequireDefault(_PaymentsPage);\n\nvar _TransactionsPage = require('./ui/pages/TransactionsPage/TransactionsPage.jsx');\n\nvar _TransactionsPage2 = _interopRequireDefault(_TransactionsPage);\n\nvar _nil = require('@tinkoff/utils/is/nil');\n\nvar _nil2 = _interopRequireDefault(_nil);\n\nvar _constants = require('./constants/constants');\n\nvar _App = require('./App.css');\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n    var application = _ref.application;\n\n    return {\n        authenticated: application.authenticated\n    };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n        checkAuthentication: function checkAuthentication(payload) {\n            return dispatch((0, _checkAuthentication3.default)(payload));\n        },\n        getUnvisitedMoneyOutput: function getUnvisitedMoneyOutput(payload) {\n            return dispatch((0, _getUnvisitedMoneyOutput3.default)(payload));\n        },\n        getUnvisitedMessageHistory: function getUnvisitedMessageHistory(payload) {\n            return dispatch((0, _getUnvisitedMessageHistory3.default)(payload));\n        }\n    };\n};\n\nvar _ref3 = _react2.default.createElement(_Recovery2.default, (_React$createElement10 = {\n    'data-qa-file': 'App'\n}, (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement10, 'data-qa-file', 'App'), _React$createElement10));\n\nvar _ref4 = _react2.default.createElement(_CircularProgress2.default, (_React$createElement11 = {\n    'data-qa-file': 'App'\n}, (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement11, 'data-qa-file', 'App'), _React$createElement11));\n\nvar _ref5 = _react2.default.createElement(_Authentication2.default, (_React$createElement12 = {\n    'data-qa-file': 'App'\n}, (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement12, 'data-qa-file', 'App'), _React$createElement12));\n\nvar _ref6 = _react2.default.createElement(_Header2.default, (_React$createElement13 = {\n    'data-qa-file': 'App'\n}, (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement13, 'data-qa-file', 'App'), _React$createElement13));\n\nvar _ref7 = _react2.default.createElement(_reactRouterDom.Route, (_React$createElement14 = { exact: true, path: _constants.ADMIN_PANEL_URL, component: _UsersPage2.default, 'data-qa-file': 'App'\n}, (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement14, 'data-qa-file', 'App'), _React$createElement14));\n\nvar App = (_temp = _class = function (_Component) {\n    (0, _inherits3.default)(App, _Component);\n\n    function App() {\n        var _ref2;\n\n        (0, _classCallCheck3.default)(this, App);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref2, [this].concat(args)));\n\n        _this.setMessageConnection = function (authenticated) {\n            if (authenticated) {\n                _messageWebsocket2.default.connect();\n                _outputWebsocket2.default.connect();\n            } else {\n                _messageWebsocket2.default.disconnect();\n                _outputWebsocket2.default.disconnect();\n            }\n        };\n\n        var pathname = _this.props.location.pathname;\n\n\n        _this.isRecovery = (0, _reactRouter.matchPath)(pathname, _constants.RECOVERY_URL);\n        return _this;\n    }\n\n    (0, _createClass3.default)(App, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.props.checkAuthentication();\n            this.props.getUnvisitedMoneyOutput();\n            this.props.getUnvisitedMessageHistory();\n\n            _outputWebsocket2.default.events.on('output', this.props.getUnvisitedMoneyOutput);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (!(0, _nil2.default)(nextProps.authenticated) && this.props.authenticated !== nextProps.authenticated) {\n                this.setMessageConnection(nextProps.authenticated);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _React$createElement2, _React$createElement3, _React$createElement4, _React$createElement5, _React$createElement6, _React$createElement7, _React$createElement8, _React$createElement9;\n\n            var authenticated = this.props.authenticated;\n\n\n            if (this.isRecovery) {\n                return _ref3;\n            }\n\n            if ((0, _nil2.default)(authenticated)) {\n                var _React$createElement;\n\n                return _react2.default.createElement(\n                    'div',\n                    (_React$createElement = { className: _App2.default.loader, 'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement, 'data-qa-file', 'App'), _React$createElement),\n                    _ref4\n                );\n            }\n\n            if (!authenticated) {\n                return _ref5;\n            }\n\n            return _react2.default.createElement(\n                'main',\n                (_React$createElement9 = { className: _App2.default.stop, 'data-qa-file': 'App'\n                }, (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement9, 'data-qa-file', 'App'), _React$createElement9),\n                _ref6,\n                _react2.default.createElement(\n                    _reactRouterDom.Switch,\n                    (_React$createElement8 = {\n                        'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement8, 'data-qa-file', 'App'), _React$createElement8),\n                    _ref7,\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement2 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/qiwi', component: _QiwiPage2.default, 'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement2, 'data-qa-file', 'App'), _React$createElement2)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement3 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/payments', component: _PaymentsPage2.default, 'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement3, 'data-qa-file', 'App'), _React$createElement3)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement4 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/messages', component: _ChatPage2.default, 'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement4, 'data-qa-file', 'App'), _React$createElement4)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement5 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/credentials', component: _CredentialsPage2.default, 'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement5, 'data-qa-file', 'App'), _React$createElement5)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement6 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/db', component: _DatabasePage2.default, 'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement6, 'data-qa-file', 'App'), _React$createElement6)),\n                    _react2.default.createElement(_reactRouterDom.Route, (_React$createElement7 = { exact: true, path: _constants.ADMIN_PANEL_URL + '/outputs', component: _TransactionsPage2.default, 'data-qa-file': 'App'\n                    }, (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'App'), (0, _defineProperty3.default)(_React$createElement7, 'data-qa-file', 'App'), _React$createElement7))\n                )\n            );\n        }\n    }]);\n    return App;\n}(_react.Component), _class.defaultProps = {\n    location: {}\n}, _temp);\nexports.default = (0, _reactRouterDom.withRouter)((0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(App));",null]}