{"remainingRequest":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\client\\utils\\calcUserOrdersChanges.js","dependencies":[{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\src\\apps\\client\\utils\\calcUserOrdersChanges.js","mtime":1671546512000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\.babelrc","mtime":1671546158000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671546958000},{"path":"C:\\Users\\cherv\\OneDrive\\Рабочий стол\\deltaway.20\\node_modules\\babel-loader\\lib\\index.js","mtime":1671546956000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _symbols = require('../../../../server/constants/symbols');\n\nvar _getAssetValues = require('./getAssetValues');\n\nvar _getAssetValues2 = _interopRequireDefault(_getAssetValues);\n\nvar _calculateBuyPrice = require('./calculateBuyPrice');\n\nvar _calculateBuyPrice2 = _interopRequireDefault(_calculateBuyPrice);\n\nvar _constants = require('../constants/constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (user, orders, prices) {\n    var userBalance = user.balance;\n\n    var ordersInfo = {};\n\n    orders.forEach(function (order) {\n        var symbolInfo = _symbols.CHART_SYMBOL_INFO_MAP[order.assetName];\n        var symbolPrice = prices[order.assetName];\n        var realSymbolPrice = order.type === 'buy' ? (0, _calculateBuyPrice2.default)(symbolInfo.name, symbolPrice) : symbolPrice;\n        var assetValues = (0, _getAssetValues2.default)(symbolInfo, { openingPrice: order.openingPrice, amount: order.amount, type: order.type }, realSymbolPrice, userBalance, _constants.COMMISSION);\n\n        userBalance = assetValues.balance;\n\n        ordersInfo[order.id] = {\n            price: symbolPrice,\n            commission: assetValues.commissionValue,\n            profit: assetValues.profit\n        };\n    });\n\n    return {\n        ordersInfo: ordersInfo,\n        balance: userBalance\n    };\n};",null]}