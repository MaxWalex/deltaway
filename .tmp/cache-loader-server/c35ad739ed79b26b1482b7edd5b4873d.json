{"remainingRequest":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/dimasabitov/Downloads/deltaway.20/server/api/client/transaction/services/getAvailableTransaction.js","dependencies":[{"path":"/Users/dimasabitov/Downloads/deltaway.20/server/api/client/transaction/services/getAvailableTransaction.js","mtime":1671546384232},{"path":"/Users/dimasabitov/Downloads/deltaway.20/.babelrc","mtime":1671546158632},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/cache-loader/dist/cjs.js","mtime":1671546959174},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js","mtime":1671546957682}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nexports.default = getAvailableTransaction;\n\nvar _constants = require('../../../../constants/constants');\n\nvar _getTransactionById = require('../queries/getTransactionById');\n\nvar _getTransactionById2 = _interopRequireDefault(_getTransactionById);\n\nvar _editTransaction = require('../queries/editTransaction');\n\nvar _editTransaction2 = _interopRequireDefault(_editTransaction);\n\nvar _getTransactionValues = require('../utils/getTransactionValues');\n\nvar _getTransactionValues2 = _interopRequireDefault(_getTransactionValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getAvailableTransaction(req, res) {\n    var id = req.query.id;\n\n\n    (0, _getTransactionById2.default)(id).then(function (_ref) {\n        var _ref2 = (0, _slicedToArray3.default)(_ref, 1),\n            transaction = _ref2[0];\n\n        if (!transaction) {\n            return res.status(_constants.NOT_FOUND_STATUS_CODE).end();\n        }\n\n        (0, _editTransaction2.default)(transaction).then(function (transaction) {\n            var _res$status;\n\n            (_res$status = res.status(_constants.OKEY_STATUS_CODE)).send.apply(_res$status, (0, _toConsumableArray3.default)((0, _getTransactionValues2.default)(transaction)));\n        }).catch(function () {\n            res.status(_constants.SERVER_ERROR_STATUS_CODE).end();\n        });\n    }).catch(function () {\n        res.status(_constants.SERVER_ERROR_STATUS_CODE).end();\n    });\n}\ngetAvailableTransaction.i = 'getAvailableTransaction';\ngetAvailableTransaction.i = 'getAvailableTransaction';",null]}