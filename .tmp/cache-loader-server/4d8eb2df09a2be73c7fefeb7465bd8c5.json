{"remainingRequest":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/dimasabitov/Downloads/deltaway.20/src/apps/client/ui/hocs/media/media.jsx","dependencies":[{"path":"/Users/dimasabitov/Downloads/deltaway.20/src/apps/client/ui/hocs/media/media.jsx","mtime":1671546468683},{"path":"/Users/dimasabitov/Downloads/deltaway.20/.babelrc","mtime":1671546158632},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/cache-loader/dist/cjs.js","mtime":1671546959174},{"path":"/Users/dimasabitov/Downloads/deltaway.20/node_modules/babel-loader/lib/index.js","mtime":1671546957682}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends3 = require('babel-runtime/helpers/extends');\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jsxFileName = '/Users/dimasabitov/Downloads/deltaway.20/src/apps/client/ui/hocs/media/media.jsx';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _setMediaInfo2 = require('../../../actions/setMediaInfo');\n\nvar _setMediaInfo3 = _interopRequireDefault(_setMediaInfo2);\n\nvar _mediaBreakpoints = require('./mediaBreakpoints');\n\nvar _mediaBreakpoints2 = _interopRequireDefault(_mediaBreakpoints);\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _map = require('@tinkoff/utils/object/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _pathOr = require('@tinkoff/utils/object/pathOr');\n\nvar _pathOr2 = _interopRequireDefault(_pathOr);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DEBOUNCE_DURATION = 300;\n\nvar isLandscape = function isLandscape() {\n    if (window.orientation) {\n        return { matches: Math.abs(window.orientation) === 90 };\n    }\n\n    return { matches: (0, _pathOr2.default)(['screen', 'orientation', 'type'], '', window)[0] === 'landscape' };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n        setMediaInfo: function setMediaInfo(payload) {\n            return dispatch((0, _setMediaInfo3.default)(payload));\n        }\n    };\n};\n\nvar media = function media(WrappedComponent) {\n    var _class, _temp;\n\n    var Media = (_temp = _class = function (_PureComponent) {\n        (0, _inherits3.default)(Media, _PureComponent);\n\n        function Media() {\n            var _ref;\n\n            (0, _classCallCheck3.default)(this, Media);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Media.__proto__ || Object.getPrototypeOf(Media)).call.apply(_ref, [this].concat(args)));\n\n            _this.updateMediaInfo = function () {\n                return _this.props.setMediaInfo(_this.getMediaInfo());\n            };\n\n            _this.getMediaInfo = function () {\n                return (0, _extends4.default)({}, (0, _map2.default)(function (value) {\n                    var query = window.matchMedia(value);\n\n                    return query.matches;\n                }, _mediaBreakpoints2.default), {\n                    landscape: isLandscape().matches,\n                    width: window.innerWidth,\n                    height: window.innerHeight\n                });\n            };\n\n            if (typeof window !== 'undefined') {\n                _this.updateMediaInfo();\n            }\n            _this.updateMediaInfoDebounced = (0, _lodash2.default)(function () {\n                return _this.props.setMediaInfo(_this.getMediaInfo());\n            }, DEBOUNCE_DURATION);\n            return _this;\n        }\n\n        (0, _createClass3.default)(Media, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                if (typeof window === 'undefined') {\n                    return;\n                }\n\n                this.updateMediaInfo();\n\n                window.addEventListener('resize', this.updateMediaInfoDebounced);\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                window.removeEventListener('resize', this.updateMediaInfoDebounced);\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return _react2.default.createElement(WrappedComponent, (0, _extends4.default)({}, this.props, (0, _defineProperty3.default)({\n                    'data-qa-file': 'media',\n                    __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 70\n                    },\n                    __self: this\n                }, '__self', this)));\n            }\n        }]);\n        return Media;\n    }(_react.PureComponent), _class.propTypes = {\n        setMediaInfo: _propTypes2.default.func.isRequired\n    }, _temp);\n\n\n    return (0, _reactRedux.connect)(undefined, mapDispatchToProps)(Media);\n};\n\nexports.default = media;",null]}